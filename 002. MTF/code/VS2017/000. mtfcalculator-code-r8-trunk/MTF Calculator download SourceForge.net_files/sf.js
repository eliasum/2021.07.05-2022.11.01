if(window.jQuery){(function(a){if((!a.support.opacity&&!a.support.style)){try{document.execCommand("BackgroundImageCache",false,true)}catch(b){}}a.fn.rating=function(e){if(this.length===0){return this}if(typeof arguments[0]=="string"){if(this.length>1){var d=arguments;return this.each(function(){a.fn.rating.apply(a(this),d)})}a.fn.rating[arguments[0]].apply(this,a.makeArray(arguments).slice(1)||[]);return this}var c=a.extend({},a.fn.rating.options,e||{});a.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var h,m=a(this);var f=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,"");var g=a(this.form||document.body);var l=g.data("rating");if(!l||l.call!=a.fn.rating.calls){l={count:0,call:a.fn.rating.calls}}var o=l[f]||g.data("rating"+f);if(o){h=o.data("rating")}if(o&&h){h.count++}else{h=a.extend({},c||{},(a.metadata?m.metadata():(a.meta?m.data():null))||{},{count:0,stars:[],inputs:[]});h.serial=l.count++;o=a('<span class="star-rating-control"/>');m.before(o);o.addClass("rating-to-be-drawn");if(m.attr("disabled")||m.hasClass("disabled")){h.readOnly=true}if(m.hasClass("required")){h.required=true;m.get(0).required=true}o.append(h.cancel=a('<div class="rating-cancel"><a title="'+h.cancel+'">'+h.cancelValue+"</a></div>").on("mouseover",function(){a(this).rating("drain");a(this).addClass("star-rating-hover")}).on("mouseout",function(){a(this).rating("draw");a(this).removeClass("star-rating-hover")}).on("click",function(){a(this).rating("select")}).data("rating",h))}var k=a('<div role="text" aria-label="'+(this.title||this.value)+'" class="star-rating rater-'+h.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");o.append(k);if(this.id){k.attr("id",this.id)}if(this.className){k.addClass(this.className)}if(h.half){h.split=2}if(typeof h.split=="number"&&h.split>0){var j=(a.fn.width?k.width():0)||h.starWidth;var i=(h.count%h.split),n=Math.floor(j/h.split);k.width(n).find("a").css({"margin-left":"-"+(i*n)+"px"})}if(h.readOnly){k.addClass("star-rating-readonly")}else{k.addClass("star-rating-live").on("mouseover",function(){a(this).rating("fill");a(this).rating("focus")}).on("mouseout",function(){a(this).rating("draw");a(this).rating("blur")}).on("click",function(){a(this).rating("select")})}if(this.checked){h.current=k}if(this.nodeName=="A"){if(a(this).hasClass("selected")){h.current=k}}m.hide();m.on("change.rating",function(p){if(p.selfTriggered){return false}a(this).rating("select")});k.data("rating.input",m.data("rating.star",k));h.stars[h.stars.length]=k[0];h.inputs[h.inputs.length]=m[0];h.rater=l[f]=o;h.context=g;m.data("rating",h);o.data("rating",h);k.data("rating",h);g.data("rating",l);g.data("rating"+f,o)});a(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this};a.extend(a.fn.rating,{calls:0,focus:function(){var d=this.data("rating");if(!d){return this}if(!d.focus){return this}var c=a(this).data("rating.input")||a(this.tagName=="INPUT"?this:null);if(d.focus){d.focus.apply(c[0],[c.val(),a("a",c.data("rating.star"))[0]])}},blur:function(){var d=this.data("rating");if(!d){return this}if(!d.blur){return this}var c=a(this).data("rating.input")||a(this.tagName=="INPUT"?this:null);if(d.blur){d.blur.apply(c[0],[c.val(),a("a",c.data("rating.star"))[0]])}},fill:function(){var c=this.data("rating");if(!c){return this}if(c.readOnly){return}this.rating("drain");this.prevAll().addBack().filter(".rater-"+c.serial).addClass("star-rating-hover")},drain:function(){var c=this.data("rating");if(!c){return this}if(c.readOnly){return}c.rater.children().filter(".rater-"+c.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var e=this.data("rating");if(!e){return this}this.rating("drain");var d=a(e.current);var c=d.length?d.prevAll().addBack().filter(".rater-"+e.serial):null;if(c){c.addClass("star-rating-on")}e.cancel[e.readOnly||e.required?"hide":"show"]();this.siblings()[e.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(d,g){var f=this.data("rating");if(!f){return this}if(f.readOnly){return}f.current=null;if(typeof d!="undefined"||this.length>1){if(typeof d=="number"){return a(f.stars[d]).rating("select",undefined,g)}if(typeof d=="string"){a.each(f.stars,function(){if(a(this).data("rating.input").val()==d){a(this).rating("select",undefined,g)}});return this}}else{f.current=this[0].tagName=="INPUT"?this.data("rating.star"):(this.is(".rater-"+f.serial)?this:null)}this.data("rating",f);this.rating("draw");var e=a(f.current?f.current.data("rating.input"):null);var c=a(f.inputs).filter(":checked");var h=a(f.inputs).not(e);h.prop("checked",false);e.prop("checked",true);a(e.length?e:c).trigger({type:"change",selfTriggered:true});if((g||g===undefined)&&f.callback){f.callback.apply(e[0],[e.val(),a("a",f.current)[0]])}return this},readOnly:function(c,d){var e=this.data("rating");if(!e){return this}e.readOnly=c||c===undefined?true:false;if(d){a(e.inputs).attr("disabled","disabled")}else{a(e.inputs).removeAttr("disabled")}this.data("rating",e);this.rating("draw")},disable:function(){this.rating("readOnly",true,true)},enable:function(){this.rating("readOnly",false,false)}});a.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16};a(function(){a("input[type=radio].star").rating()});a("input[type=radio].star").rating()})(jQuery)};this.Handlebars={};(function(c){c.VERSION="1.0.rc.1";c.helpers={};c.partials={};c.registerHelper=function(e,f,d){if(d){f.not=d}this.helpers[e]=f};c.registerPartial=function(d,e){this.partials[d]=e};c.registerHelper("helperMissing",function(d){if(arguments.length===2){return undefined}else{throw new Error("Could not find property '"+d+"'")}});var a=Object.prototype.toString,b="[object Function]";c.registerHelper("blockHelperMissing",function(g,f){var d=f.inverse||function(){},i=f.fn;var e="";var h=a.call(g);if(h===b){g=g.call(this)}if(g===true){return i(this)}else{if(g===false||g==null){return d(this)}else{if(h==="[object Array]"){if(g.length>0){return c.helpers.each(g,f)}else{return d(this)}}else{return i(g)}}}});c.K=function(){};c.createFrame=Object.create||function(d){c.K.prototype=d;var e=new c.K();c.K.prototype=null;return e};c.registerHelper("each",function(k,g){var l=g.fn,d=g.inverse;var f="",m;if(g.data){m=c.createFrame(g.data)}if(k&&k.length>0){for(var h=0,e=k.length;h<e;h++){if(m){m.index=h}f=f+l(k[h],{data:m})}}else{f=d(this)}return f});c.registerHelper("if",function(e,d){var f=a.call(e);if(f===b){e=e.call(this)}if(!e||c.Utils.isEmpty(e)){return d.inverse(this)}else{return d.fn(this)}});c.registerHelper("unless",function(f,e){var g=e.fn,d=e.inverse;e.fn=d;e.inverse=g;return c.helpers["if"].call(this,f,e)});c.registerHelper("with",function(e,d){return d.fn(e)});c.registerHelper("log",function(d){c.log(d)})}(this.Handlebars));var handlebars=(function(){var g={trace:function c(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,DATA:27,param:28,STRING:29,INTEGER:30,BOOLEAN:31,hashSegments:32,hashSegment:33,ID:34,EQUALS:35,pathSegments:36,SEP:37,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",27:"DATA",29:"STRING",30:"INTEGER",31:"BOOLEAN",34:"ID",35:"EQUALS",37:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[17,1],[25,2],[25,1],[28,1],[28,1],[28,1],[28,1],[28,1],[26,1],[32,2],[32,1],[33,3],[33,3],[33,3],[33,3],[33,3],[21,1],[36,3],[36,1]],performAction:function b(h,k,l,o,n,j,m){var i=j.length-1;switch(n){case 1:return j[i-1];break;case 2:this.$=new o.ProgramNode(j[i-2],j[i]);break;case 3:this.$=new o.ProgramNode(j[i]);break;case 4:this.$=new o.ProgramNode([]);break;case 5:this.$=[j[i]];break;case 6:j[i-1].push(j[i]);this.$=j[i-1];break;case 7:this.$=new o.BlockNode(j[i-2],j[i-1].inverse,j[i-1],j[i]);break;case 8:this.$=new o.BlockNode(j[i-2],j[i-1],j[i-1].inverse,j[i]);break;case 9:this.$=j[i];break;case 10:this.$=j[i];break;case 11:this.$=new o.ContentNode(j[i]);break;case 12:this.$=new o.CommentNode(j[i]);break;case 13:this.$=new o.MustacheNode(j[i-1][0],j[i-1][1]);break;case 14:this.$=new o.MustacheNode(j[i-1][0],j[i-1][1]);break;case 15:this.$=j[i-1];break;case 16:this.$=new o.MustacheNode(j[i-1][0],j[i-1][1]);break;case 17:this.$=new o.MustacheNode(j[i-1][0],j[i-1][1],true);break;case 18:this.$=new o.PartialNode(j[i-1]);break;case 19:this.$=new o.PartialNode(j[i-2],j[i-1]);break;case 20:break;case 21:this.$=[[j[i-2]].concat(j[i-1]),j[i]];break;case 22:this.$=[[j[i-1]].concat(j[i]),null];break;case 23:this.$=[[j[i-1]],j[i]];break;case 24:this.$=[[j[i]],null];break;case 25:this.$=[[new o.DataNode(j[i])],null];break;case 26:j[i-1].push(j[i]);this.$=j[i-1];break;case 27:this.$=[j[i]];break;case 28:this.$=j[i];break;case 29:this.$=new o.StringNode(j[i]);break;case 30:this.$=new o.IntegerNode(j[i]);break;case 31:this.$=new o.BooleanNode(j[i]);break;case 32:this.$=new o.DataNode(j[i]);break;case 33:this.$=new o.HashNode(j[i]);break;case 34:j[i-1].push(j[i]);this.$=j[i-1];break;case 35:this.$=[j[i]];break;case 36:this.$=[j[i-2],j[i]];break;case 37:this.$=[j[i-2],new o.StringNode(j[i])];break;case 38:this.$=[j[i-2],new o.IntegerNode(j[i])];break;case 39:this.$=[j[i-2],new o.BooleanNode(j[i])];break;case 40:this.$=[j[i-2],new o.DataNode(j[i])];break;case 41:this.$=new o.IdNode(j[i]);break;case 42:j[i-2].push(j[i]);this.$=j[i-2];break;case 43:this.$=[j[i]];break}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,27:[1,24],34:[1,26],36:25},{17:27,21:23,27:[1,24],34:[1,26],36:25},{17:28,21:23,27:[1,24],34:[1,26],36:25},{17:29,21:23,27:[1,24],34:[1,26],36:25},{21:30,34:[1,26],36:25},{1:[2,1]},{6:31,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,32],21:23,27:[1,24],34:[1,26],36:25},{10:33,20:[1,34]},{10:35,20:[1,34]},{18:[1,36]},{18:[2,24],21:41,25:37,26:38,27:[1,45],28:39,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,25]},{18:[2,41],27:[2,41],29:[2,41],30:[2,41],31:[2,41],34:[2,41],37:[1,48]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],37:[2,43]},{18:[1,49]},{18:[1,50]},{18:[1,51]},{18:[1,52],21:53,34:[1,26],36:25},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:54,34:[1,26],36:25},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:41,26:55,27:[1,45],28:56,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,23]},{18:[2,27],27:[2,27],29:[2,27],30:[2,27],31:[2,27],34:[2,27]},{18:[2,33],33:57,34:[1,58]},{18:[2,28],27:[2,28],29:[2,28],30:[2,28],31:[2,28],34:[2,28]},{18:[2,29],27:[2,29],29:[2,29],30:[2,29],31:[2,29],34:[2,29]},{18:[2,30],27:[2,30],29:[2,30],30:[2,30],31:[2,30],34:[2,30]},{18:[2,31],27:[2,31],29:[2,31],30:[2,31],31:[2,31],34:[2,31]},{18:[2,32],27:[2,32],29:[2,32],30:[2,32],31:[2,32],34:[2,32]},{18:[2,35],34:[2,35]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],35:[1,59],37:[2,43]},{34:[1,60]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,61]},{18:[1,62]},{18:[2,21]},{18:[2,26],27:[2,26],29:[2,26],30:[2,26],31:[2,26],34:[2,26]},{18:[2,34],34:[2,34]},{35:[1,59]},{21:63,27:[1,67],29:[1,64],30:[1,65],31:[1,66],34:[1,26],36:25},{18:[2,42],27:[2,42],29:[2,42],30:[2,42],31:[2,42],34:[2,42],37:[2,42]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,36],34:[2,36]},{18:[2,37],34:[2,37]},{18:[2,38],34:[2,38]},{18:[2,39],34:[2,39]},{18:[2,40],34:[2,40]}],defaultActions:{16:[2,1],24:[2,25],38:[2,23],55:[2,21]},parseError:function d(i,h){throw new Error(i)},parse:function f(s){var z=this,n=[0],I=[null],u=[],J=this.table,i="",t=0,G=0,k=0,q=2,w=1;this.lexer.setInput(s);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var j=this.lexer.yylloc;u.push(j);var l=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function y(p){n.length=n.length-2*p;I.length=I.length-p;u.length=u.length-p}function x(){var p;p=z.lexer.lex()||1;if(typeof p!=="number"){p=z.symbols_[p]||p}return p}var F,B,m,E,K,v,D={},A,H,h,o;while(true){m=n[n.length-1];if(this.defaultActions[m]){E=this.defaultActions[m]}else{if(F===null||typeof F=="undefined"){F=x()}E=J[m]&&J[m][F]}if(typeof E==="undefined"||!E.length||!E[0]){var C="";if(!k){o=[];for(A in J[m]){if(this.terminals_[A]&&A>2){o.push("'"+this.terminals_[A]+"'")}}if(this.lexer.showPosition){C="Parse error on line "+(t+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+o.join(", ")+", got '"+(this.terminals_[F]||F)+"'"}else{C="Parse error on line "+(t+1)+": Unexpected "+(F==1?"end of input":"'"+(this.terminals_[F]||F)+"'")}this.parseError(C,{text:this.lexer.match,token:this.terminals_[F]||F,line:this.lexer.yylineno,loc:j,expected:o})}}if(E[0]instanceof Array&&E.length>1){throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+F)}switch(E[0]){case 1:n.push(F);I.push(this.lexer.yytext);u.push(this.lexer.yylloc);n.push(E[1]);F=null;if(!B){G=this.lexer.yyleng;i=this.lexer.yytext;t=this.lexer.yylineno;j=this.lexer.yylloc;if(k>0){k--}}else{F=B;B=null}break;case 2:H=this.productions_[E[1]][1];D.$=I[I.length-H];D._$={first_line:u[u.length-(H||1)].first_line,last_line:u[u.length-1].last_line,first_column:u[u.length-(H||1)].first_column,last_column:u[u.length-1].last_column};if(l){D._$.range=[u[u.length-(H||1)].range[0],u[u.length-1].range[1]]}v=this.performAction.call(D,i,G,t,this.yy,E[1],I,u);if(typeof v!=="undefined"){return v}if(H){n=n.slice(0,-1*H*2);I=I.slice(0,-1*H);u=u.slice(0,-1*H)}n.push(this.productions_[E[1]][0]);I.push(D.$);u.push(D._$);h=J[n[n.length-2]][n[n.length-1]];n.push(h);break;case 3:return true}}return true}};var a=(function(){var k=({EOF:1,parseError:function m(p,o){if(this.yy.parser){this.yy.parser.parseError(p,o)}else{throw new Error(p)}},setInput:function(o){this._input=o;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var p=this._input[0];this.yytext+=p;this.yyleng++;this.offset++;this.match+=p;this.matched+=p;var o=p.match(/(?:\r\n?|\n).*/g);if(o){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return p},unput:function(q){var o=q.length;var p=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-o-1);this.offset-=o;var t=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(p.length-1){this.yylineno-=p.length-1}var s=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:p?(p.length===t.length?this.yylloc.first_column:0)+t[t.length-p.length].length-p[0].length:this.yylloc.first_column-o};if(this.options.ranges){this.yylloc.range=[s[0],s[0]+this.yyleng-o]}return this},more:function(){this._more=true;return this},less:function(o){this.unput(this.match.slice(o))},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;if(o.length<20){o+=this._input.substr(0,20-o.length)}return(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput();var p=new Array(o.length+1).join("-");return o+this.upcomingInput()+"\n"+p+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var u,s,p,r,q,o;if(!this._more){this.yytext="";this.match=""}var v=this._currentRules();for(var t=0;t<v.length;t++){p=this._input.match(this.rules[v[t]]);if(p&&(!s||p[0].length>s[0].length)){s=p;r=t;if(!this.options.flex){break}}}if(s){o=s[0].match(/(?:\r\n?|\n).*/g);if(o){this.yylineno+=o.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+s[0].length};this.yytext+=s[0];this.match+=s[0];this.matches=s;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(s[0].length);this.matched+=s[0];u=this.performAction.call(this,this.yy,this,v[r],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(u){return u}else{return}}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function h(){var o=this.next();if(typeof o!=="undefined"){return o}else{return this.lex()}},begin:function i(o){this.conditionStack.push(o)},popState:function n(){return this.conditionStack.pop()},_currentRules:function l(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function i(o){this.begin(o)}});k.options={};k.performAction=function j(s,p,r,o){var q=o;switch(r){case 0:if(p.yytext.slice(-1)!=="\\"){this.begin("mu")}if(p.yytext.slice(-1)==="\\"){p.yytext=p.yytext.substr(0,p.yyleng-1),this.begin("emu")}if(p.yytext){return 14}break;case 1:return 14;break;case 2:if(p.yytext.slice(-1)!=="\\"){this.popState()}if(p.yytext.slice(-1)==="\\"){p.yytext=p.yytext.substr(0,p.yyleng-1)}return 14;break;case 3:return 24;break;case 4:return 16;break;case 5:return 20;break;case 6:return 19;break;case 7:return 19;break;case 8:return 23;break;case 9:return 23;break;case 10:p.yytext=p.yytext.substr(3,p.yyleng-5);this.popState();return 15;break;case 11:return 22;break;case 12:return 35;break;case 13:return 34;break;case 14:return 34;break;case 15:return 37;break;case 16:break;case 17:this.popState();return 18;break;case 18:this.popState();return 18;break;case 19:p.yytext=p.yytext.substr(1,p.yyleng-2).replace(/\\"/g,'"');return 29;break;case 20:p.yytext=p.yytext.substr(1,p.yyleng-2).replace(/\\"/g,'"');return 29;break;case 21:p.yytext=p.yytext.substr(1);return 27;break;case 22:return 31;break;case 23:return 31;break;case 24:return 30;break;case 25:return 34;break;case 26:p.yytext=p.yytext.substr(1,p.yyleng-2);return 34;break;case 27:return"INVALID";break;case 28:return 5;break}};k.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/];k.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:false},emu:{rules:[2],inclusive:false},INITIAL:{rules:[0,1,28],inclusive:true}};return k})();g.lexer=a;function e(){this.yy={}}e.prototype=g;g.Parser=e;return new e})();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=handlebars;exports.Parser=handlebars.Parser;exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)};exports.main=function commonjsMain(a){if(!a[1]){throw new Error("Usage: "+a[0]+" FILE")}var c,b;if(typeof process!=="undefined"){c=require("fs").readFileSync(require("path").resolve(a[1]),"utf8")}else{c=require("file").path(require("file").cwd()).join(a[1]).read({charset:"utf-8"})}return exports.parser.parse(c)};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args)}}Handlebars.Parser=handlebars;Handlebars.parse=function(a){Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(a)};Handlebars.print=function(a){return new Handlebars.PrintVisitor().accept(a)};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(b,a){}};Handlebars.log=function(b,a){Handlebars.logger.log(b,a)};(function(){Handlebars.AST={};Handlebars.AST.ProgramNode=function(c,b){this.type="program";this.statements=c;if(b){this.inverse=new Handlebars.AST.ProgramNode(b)}};Handlebars.AST.MustacheNode=function(g,d,c){this.type="mustache";this.escaped=!c;this.hash=d;var f=this.id=g[0];var e=this.params=g.slice(1);var b=this.eligibleHelper=f.isSimple;this.isHelper=b&&(e.length||d)};Handlebars.AST.PartialNode=function(c,b){this.type="partial";this.id=c;this.context=b};var a=function(b,c){if(b.original!==c.original){throw new Handlebars.Exception(b.original+" doesn't match "+c.original)}};Handlebars.AST.BlockNode=function(d,c,b,e){a(d.id,e);this.type="block";this.mustache=d;this.program=c;this.inverse=b;if(this.inverse&&!this.program){this.isInverse=true}};Handlebars.AST.ContentNode=function(b){this.type="content";this.string=b};Handlebars.AST.HashNode=function(b){this.type="hash";this.pairs=b};Handlebars.AST.IdNode=function(f){this.type="ID";this.original=f.join(".");var d=[],g=0;for(var e=0,b=f.length;e<b;e++){var c=f[e];if(c===".."){g++}else{if(c==="."||c==="this"){this.isScoped=true}else{d.push(c)}}}this.parts=d;this.string=d.join(".");this.depth=g;this.isSimple=f.length===1&&!this.isScoped&&g===0};Handlebars.AST.DataNode=function(b){this.type="DATA";this.id=b};Handlebars.AST.StringNode=function(b){this.type="STRING";this.string=b};Handlebars.AST.IntegerNode=function(b){this.type="INTEGER";this.integer=b};Handlebars.AST.BooleanNode=function(b){this.type="BOOLEAN";this.bool=b};Handlebars.AST.CommentNode=function(b){this.type="comment";this.comment=b}})();Handlebars.Exception=function(b){var a=Error.prototype.constructor.apply(this,arguments);for(var c in a){if(a.hasOwnProperty(c)){this[c]=a[c]}}this.message=a.message};Handlebars.Exception.prototype=new Error();Handlebars.SafeString=function(a){this.string=a};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};(function(){var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var d=/[&<>"'`]/g;var b=/[&<>"'`]/;var a=function(e){return c[e]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){if(e instanceof Handlebars.SafeString){return e.toString()}else{if(e==null||e===false){return""}}if(!b.test(e)){return e}return e.replace(d,a)},isEmpty:function(e){if(typeof e==="undefined"){return true}else{if(e===null){return true}else{if(e===false){return true}else{if(Object.prototype.toString.call(e)==="[object Array]"&&e.length===0){return true}else{return false}}}}}}})();Handlebars.Compiler=function(){};Handlebars.JavaScriptCompiler=function(){};(function(g,f){g.prototype={compiler:g,disassemble:function(){var p=this.opcodes,o,m=[],r,q;for(var n=0,h=p.length;n<h;n++){o=p[n];if(o.opcode==="DECLARE"){m.push("DECLARE "+o.name+"="+o.value)}else{r=[];for(var k=0;k<o.args.length;k++){q=o.args[k];if(typeof q==="string"){q='"'+q.replace("\n","\\n")+'"'}r.push(q)}m.push(o.opcode+" "+r.join(" "))}}return m.join("\n")},guid:0,compile:function(h,j){this.children=[];this.depths={list:[]};this.options=j;var k=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(k){for(var i in k){this.options.knownHelpers[i]=k[i]}}return this.program(h)},accept:function(h){return this[h.type](h)},program:function(k){var j=k.statements,n;this.opcodes=[];for(var m=0,h=j.length;m<h;m++){n=j[m];this[n.type](n)}this.isSimple=h===1;this.depths.list=this.depths.list.sort(function(l,i){return l-i});return this},compileProgram:function(k){var h=new this.compiler().compile(k,this.options);var m=this.guid++,o;this.usePartial=this.usePartial||h.usePartial;this.children[m]=h;for(var n=0,j=h.depths.list.length;n<j;n++){o=h.depths.list[n];if(o<2){continue}else{this.addDepth(o-1)}}return m},block:function(l){var k=l.mustache,i=l.program,h=l.inverse;if(i){i=this.compileProgram(i)}if(h){h=this.compileProgram(h)}var j=this.classifyMustache(k);if(j==="helper"){this.helperMustache(k,i,h)}else{if(j==="simple"){this.simpleMustache(k);this.opcode("pushProgram",i);this.opcode("pushProgram",h);this.opcode("pushLiteral","{}");this.opcode("blockValue")}else{this.ambiguousMustache(k,i,h);this.opcode("pushProgram",i);this.opcode("pushProgram",h);this.opcode("pushLiteral","{}");this.opcode("ambiguousBlockValue")}}this.opcode("append")},hash:function(m){var k=m.pairs,o,n;this.opcode("push","{}");for(var j=0,h=k.length;j<h;j++){o=k[j];n=o[1];this.accept(n);this.opcode("assignToHash",o[0])}},partial:function(h){var i=h.id;this.usePartial=true;if(h.context){this.ID(h.context)}else{this.opcode("push","depth0")}this.opcode("invokePartial",i.original);this.opcode("append")},content:function(h){this.opcode("appendContent",h.string)},mustache:function(j){var h=this.options;var i=this.classifyMustache(j);if(i==="simple"){this.simpleMustache(j)}else{if(i==="helper"){this.helperMustache(j)}else{this.ambiguousMustache(j)}}if(j.escaped&&!h.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ambiguousMustache:function(k,i,h){var l=k.id,j=l.parts[0];this.opcode("getContext",l.depth);this.opcode("pushProgram",i);this.opcode("pushProgram",h);this.opcode("invokeAmbiguous",j)},simpleMustache:function(j,i,h){var k=j.id;if(k.type==="DATA"){this.DATA(k)}else{if(k.parts.length){this.ID(k)}else{this.addDepth(k.depth);this.opcode("getContext",k.depth);this.opcode("pushContext")}}this.opcode("resolvePossibleLambda")},helperMustache:function(k,i,h){var l=this.setupFullMustacheParams(k,i,h),j=k.id.parts[0];if(this.options.knownHelpers[j]){this.opcode("invokeKnownHelper",l.length,j)}else{if(this.knownHelpersOnly){throw new Error("You specified knownHelpersOnly, but used the unknown helper "+j)}else{this.opcode("invokeHelper",l.length,j)}}},ID:function(m){this.addDepth(m.depth);this.opcode("getContext",m.depth);var j=m.parts[0];if(!j){this.opcode("pushContext")}else{this.opcode("lookupOnContext",m.parts[0])}for(var k=1,h=m.parts.length;k<h;k++){this.opcode("lookup",m.parts[k])}},DATA:function(h){this.options.data=true;this.opcode("lookupData",h.id)},STRING:function(h){this.opcode("pushString",h.string)},INTEGER:function(h){this.opcode("pushLiteral",h.integer)},BOOLEAN:function(h){this.opcode("pushLiteral",h.bool)},comment:function(){},opcode:function(h){this.opcodes.push({opcode:h,args:[].slice.call(arguments,1)})},declare:function(h,i){this.opcodes.push({opcode:"DECLARE",name:h,value:i})},addDepth:function(h){if(isNaN(h)){throw new Error("EWOT")}if(h===0){return}if(!this.depths[h]){this.depths[h]=true;this.depths.list.push(h)}},classifyMustache:function(k){var j=k.isHelper;var l=k.eligibleHelper;var i=this.options;if(l&&!j){var h=k.id.parts[0];if(i.knownHelpers[h]){j=true}else{if(i.knownHelpersOnly){l=false}}}if(j){return"helper"}else{if(l){return"ambiguous"}else{return"simple"}}},pushParams:function(k){var h=k.length,j;while(h--){j=k[h];if(this.options.stringParams){if(j.depth){this.addDepth(j.depth)}this.opcode("getContext",j.depth||0);this.opcode("pushStringParam",j.string)}else{this[j.type](j)}}},setupMustacheParams:function(h){var i=h.params;this.pushParams(i);if(h.hash){this.hash(h.hash)}else{this.opcode("pushLiteral","{}")}return i},setupFullMustacheParams:function(j,i,h){var k=j.params;this.pushParams(k);this.opcode("pushProgram",i);this.opcode("pushProgram",h);if(j.hash){this.hash(j.hash)}else{this.opcode("pushLiteral","{}")}return k}};var c=function(h){this.value=h};f.prototype={nameLookup:function(j,h,i){if(/^[0-9]+$/.test(h)){return j+"["+h+"]"}else{if(f.isValidJavaScriptVariableName(h)){return j+"."+h}else{return j+"['"+h+"']"}}},appendToBuffer:function(h){if(this.environment.isSimple){return"return "+h+";"}else{return"buffer += "+h+";"}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(h,i,k,j){this.environment=h;this.options=i||{};Handlebars.log(Handlebars.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!k;this.context=k||{programs:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.compileChildren(h,i);var m=h.opcodes,l;this.i=0;for(b=m.length;this.i<b;this.i++){l=m[this.i];if(l.opcode==="DECLARE"){this[l.name]=l.value}else{this[l.opcode].apply(this,l.args)}}return this.createFunctionContext(j)},nextOpcode:function(){var i=this.environment.opcodes,h=i[this.i+1];return i[this.i+1]},eat:function(h){this.i=this.i+1},preamble:function(){var h=[];if(!this.isChild){var i=this.namespace;var j="helpers = helpers || "+i+".helpers;";if(this.environment.usePartial){j=j+" partials = partials || "+i+".partials;"}if(this.options.data){j=j+" data = data || {};"}h.push(j)}else{h.push("")}if(!this.environment.isSimple){h.push(", buffer = "+this.initializeBuffer())}else{h.push("")}this.lastContext=0;this.source=h},createFunctionContext:function(o){var p=this.stackVars.concat(this.registers.list);if(p.length>0){this.source[1]=this.source[1]+", "+p.join(", ")}if(!this.isChild){var j=[];for(var n in this.context.aliases){this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n"}if(!this.environment.isSimple){this.source.push("return buffer;")}var q=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var m=0,h=this.environment.depths.list.length;m<h;m++){q.push("depth"+this.environment.depths.list[m])}if(o){q.push(this.source.join("\n  "));return Function.apply(this,q)}else{var k="function "+(this.name||"")+"("+q.join(",")+") {\n  "+this.source.join("\n  ")+"}";Handlebars.log(Handlebars.logger.DEBUG,k+"\n\n");return k}},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var h=["depth0"];this.setupParams(0,h);this.replaceStack(function(i){h.splice(1,0,i);return i+" = blockHelperMissing.call("+h.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var i=["depth0"];this.setupParams(0,i);var h=this.topStack();i.splice(1,0,h);this.source.push("if (!"+this.lastHelper+") { "+h+" = blockHelperMissing.call("+i.join(", ")+"); }")},appendContent:function(h){this.source.push(this.appendToBuffer(this.quotedString(h)))},append:function(){var h=this.popStack();this.source.push("if("+h+" || "+h+" === 0) { "+this.appendToBuffer(h)+" }");if(this.environment.isSimple){this.source.push("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){var i=this.nextOpcode(),h="";this.context.aliases.escapeExpression="this.escapeExpression";if(i&&i.opcode==="appendContent"){h=" + "+this.quotedString(i.args[0]);this.eat(i)}this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+h))},getContext:function(h){if(this.lastContext!==h){this.lastContext=h}},lookupOnContext:function(h){this.pushStack(this.nameLookup("depth"+this.lastContext,h,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(h){return"typeof "+h+" === functionType ? "+h+"() : "+h})},lookup:function(h){this.replaceStack(function(i){return i+" == null || "+i+" === false ? "+i+" : "+this.nameLookup(i,h,"context")})},lookupData:function(h){this.pushStack(this.nameLookup("data",h,"data"))},pushStringParam:function(h){this.pushStackLiteral("depth"+this.lastContext);this.pushString(h)},pushString:function(h){this.pushStackLiteral(this.quotedString(h))},push:function(h){this.pushStack(h)},pushLiteral:function(h){this.pushStackLiteral(h)},pushProgram:function(h){if(h!=null){this.pushStackLiteral(this.programExpression(h))}else{this.pushStackLiteral(null)}},invokeHelper:function(j,h){this.context.aliases.helperMissing="helpers.helperMissing";var i=this.lastHelper=this.setupHelper(j,h);this.register("foundHelper",i.name);this.pushStack("foundHelper ? foundHelper.call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+")")},invokeKnownHelper:function(j,h){var i=this.setupHelper(j,h);this.pushStack(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(h){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var i=this.setupHelper(0,h);var j=this.lastHelper=this.nameLookup("helpers",h,"helper");this.register("foundHelper",j);var l=this.nameLookup("depth"+this.lastContext,h,"context");var k=this.nextStack();this.source.push("if (foundHelper) { "+k+" = foundHelper.call("+i.callParams+"); }");this.source.push("else { "+k+" = "+l+"; "+k+" = typeof "+k+" === functionType ? "+k+"() : "+k+"; }")},invokePartial:function(h){var i=[this.nameLookup("partials",h,"partial"),"'"+h+"'",this.popStack(),"helpers","partials"];if(this.options.data){i.push("data")}this.context.aliases.self="this";this.pushStack("self.invokePartial("+i.join(", ")+");")},assignToHash:function(h){var i=this.popStack();var j=this.topStack();this.source.push(j+"['"+h+"'] = "+i+";")},compiler:f,compileChildren:function(h,m){var o=h.children,q,p;for(var n=0,j=o.length;n<j;n++){q=o[n];p=new this.compiler();this.context.programs.push("");var k=this.context.programs.length;q.index=k;q.name="program"+k;this.context.programs[k]=p.compile(q,m,this.context)}},programExpression:function(j){this.context.aliases.self="this";if(j==null){return"self.noop"}var p=this.environment.children[j],o=p.depths.list,n;var m=[p.index,p.name,"data"];for(var k=0,h=o.length;k<h;k++){n=o[k];if(n===1){m.push("depth0")}else{m.push("depth"+(n-1))}}if(o.length===0){return"self.program("+m.join(", ")+")"}else{m.shift();return"self.programWithDepth("+m.join(", ")+")"}},register:function(h,i){this.useRegister(h);this.source.push(h+" = "+i+";")},useRegister:function(h){if(!this.registers[h]){this.registers[h]=true;this.registers.list.push(h)}},pushStackLiteral:function(h){this.compileStack.push(new c(h));return h},pushStack:function(h){this.source.push(this.incrStack()+" = "+h+";");this.compileStack.push("stack"+this.stackSlot);return"stack"+this.stackSlot},replaceStack:function(i){var h=i.call(this,this.topStack());this.source.push(this.topStack()+" = "+h+";");return"stack"+this.stackSlot},nextStack:function(h){var i=this.incrStack();this.compileStack.push("stack"+this.stackSlot);return i},incrStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return"stack"+this.stackSlot},popStack:function(){var h=this.compileStack.pop();if(h instanceof c){return h.value}else{this.stackSlot--;return h}},topStack:function(){var h=this.compileStack[this.compileStack.length-1];if(h instanceof c){return h.value}else{return h}},quotedString:function(h){return'"'+h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(k,i){var j=[];this.setupParams(k,j);var h=this.nameLookup("helpers",i,"helper");return{params:j,name:h,callParams:["depth0"].concat(j).join(", "),helperMissingParams:["depth0",this.quotedString(i)].concat(j).join(", ")}},setupParams:function(o,n){var k=[],p=[],m,h,j;k.push("hash:"+this.popStack());h=this.popStack();j=this.popStack();if(j||h){if(!j){this.context.aliases.self="this";j="self.noop"}if(!h){this.context.aliases.self="this";h="self.noop"}k.push("inverse:"+h);k.push("fn:"+j)}for(var l=0;l<o;l++){m=this.popStack();n.push(m);if(this.options.stringParams){p.push(this.popStack())}}if(this.options.stringParams){k.push("contexts:["+p.join(",")+"]")}if(this.options.data){k.push("data:data")}n.push("{"+k.join(",")+"}");return n.join(", ")}};var a=("break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield").split(" ");var e=f.RESERVED_WORDS={};for(var d=0,b=a.length;d<b;d++){e[a[d]]=true}f.isValidJavaScriptVariableName=function(h){if(!f.RESERVED_WORDS[h]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(h)){return true}return false}})(Handlebars.Compiler,Handlebars.JavaScriptCompiler);Handlebars.precompile=function(d,c){c=c||{};var b=Handlebars.parse(d);var a=new Handlebars.Compiler().compile(b,c);return new Handlebars.JavaScriptCompiler().compile(a,c)};Handlebars.compile=function(b,a){a=a||{};var d;function c(){var g=Handlebars.parse(b);var f=new Handlebars.Compiler().compile(g,a);var e=new Handlebars.JavaScriptCompiler().compile(f,a,undefined,true);return Handlebars.template(e)}return function(f,e){if(!d){d=c()}return d.call(this,f,e)}};Handlebars.VM={template:function(a){var b={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(d,e,f){var c=this.programs[d];if(f){return Handlebars.VM.program(e,f)}else{if(c){return c}else{c=this.programs[d]=Handlebars.VM.program(e);return c}}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(d,c){c=c||{};return a.call(b,Handlebars,d,c.helpers,c.partials,c.data)}},programWithDepth:function(b,d,c){var a=Array.prototype.slice.call(arguments,2);return function(f,e){e=e||{};return b.apply(this,[f,e.data||d].concat(a))}},program:function(a,b){return function(d,c){c=c||{};return a(d,c.data||b)}},noop:function(){return""},invokePartial:function(a,c,e,f,d,g){var b={helpers:f,partials:d,data:g};if(a===undefined){throw new Handlebars.Exception("The partial "+c+" could not be found")}else{if(a instanceof Function){return a(e,b)}else{if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+c+" could not be compiled when running in runtime-only mode")}else{d[c]=Handlebars.compile(a,{data:g!==undefined});return d[c](e,b)}}}}};Handlebars.template=Handlebars.VM.template;var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();SF.Widgets=SF.Widgets||{};var SendLinkWidget=(function(a){__extends(b,a);function b(c,d){var e=a.call(this,c,{})||this;e.defaults={modalID:null};e.settings=$.extend(e.defaults,d);c.bind("submit",e.submit);return e}b.prototype.realSubmit=function(c){var d=this.$form.attr("action");$.ajax({url:d,type:"post",data:this.$form.serialize()}).success(this.handleAjaxSuccess.bind(this)).error(this.handleAjaxError.bind(this))};b.prototype.handleAjaxError=function(c){var f;try{f=c.message?c.message:JSON.parse(c.responseText).error}catch(d){console.log(d);f="An unexpected error occurred."}$("#messages").notify(f,{status:"error"})};b.prototype.handleAjaxSuccess=function(c){if(c.status==="success"){$("#messages").notify("We have sent you an email with a download link.",{status:"success",sticky:true});if(this.settings.modalID){$(this.settings.modalID).foundation("close")}}else{this.handleAjaxError(c)}};return b}(ConsentTrackingForm));var Modes;(function(a){a.Panes="panes";a.Stacked="stacked"})(Modes||(Modes={}));var PaneEnabledForm=(function(b){__extends(a,b);function a(c,d){var e=b.call(this,c,d)||this;e.defaults={nextButtonSelector:".btn-pane-next",prevButtonSelector:".btn-pane-prev"};e.settings=$.extend(e.defaults,d);e.mode=c.hasClass("stacked")?Modes.Stacked:Modes.Panes;e.$panes=$(".pane");e.paneCount=$(".pane",c).length;if(e.mode===Modes.Panes){e.goToPane(1);$(e.settings.nextButtonSelector,c).bind("click",e.goNext.bind(e));$(e.settings.prevButtonSelector,c).bind("click",e.goPrevious.bind(e))}else{e.setStackedMode()}return e}a.prototype.realSubmit=function(c){if(!this.atEnd()&&this.mode==Modes.Panes){this.goNext(c)}else{b.prototype.realSubmit.call(this,c);return true}};a.prototype.setStackedMode=function(){$(".pane",this.$form).addClass("pane-visible");$(this.settings.nextButtonSelector+", "+this.settings.prevButtonSelector).hide()};a.prototype.customCheckboxGroupValidate=function(e){var d=$("input",e);var c=d.length-1;d.get(c).setCustomValidity("");if(!d.length||d.is(":checked")){return true}else{d.get(c).setCustomValidity(e.data("required-message"));return false}};a.prototype.validatePane=function(){var e=true;var c=this;var d="textarea, select, input[required], .input-checkbox-group";$(d,".pane-"+this.currentPaneNumber).each(function(){if(this.checkValidity&&!this.checkValidity()){e=false;return}var f=$(this);if(f.is(".input-checkbox-group.required")){if(!c.customCheckboxGroupValidate(f)){e=false}}});if(!e){this.$form.get(0).reportValidity()}return e};a.prototype.goToPane=function(c){this.$panes.removeClass("pane-visible");this.currentPaneNumber=c;$(".pane-"+this.currentPaneNumber,this.$form).addClass("pane-visible")};a.prototype.goNext=function(c){if(c){c.preventDefault()}if(!this.validatePane()){return}this.goToPane(this.currentPaneNumber+1);return false};a.prototype.goPrevious=function(c){if(c){c.preventDefault()}this.goToPane(this.currentPaneNumber-1);return false};a.prototype.atEnd=function(){return this.paneCount===this.currentPaneNumber};return a}(ConsentTrackingForm));var LeadForm=(function(){function a(b,c){this.defaults={leadFormPhoneIsMasked:true,proxyEndpoint:true,assetDelegate:null,bypassSubmission:false,selectorOptInAllText:".input-set-whitepapers-optin-all .checkbox-label",thankYouMessage:"We're going to send your information to several VoIP providers. Expect a custom quote from them in a few days.",leadformEndpoint:"/api/form/lfsubmit",requestType:"POST",deferSubmitHandling:false,inlineProgressIndicator:false};this.consentTracker=null;this.settings=$.extend(this.defaults,c);this.$form=$(b);this.leadformURL=this.settings.proxyEndpoint?"/proxy-api/lf":"https://lf.bizx.info";this.leadformURL+=this.settings.leadformEndpoint;$('input[name="optin_disclaimer"]',this.$form).val($(this.settings.selectorOptInAllText).html());if(!this.settings.deferSubmitHandling){this.$form.on("submit",this.handleSubmit.bind(this))}this.wirePhoneMasking();this.controlOptinVisibility(null)}a.prototype.controlOptinVisibility=function(b){b=b||'select[name="country"]';var c=["Canada","Austria","Belgium","Bulgaria","Croatia (Hrvatska)","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","United Kingdom"];var d=$(b).find("option:selected").text();if(c.indexOf(d)!==-1){$(".form-item-terms, .privacy-policy-contact").show();$(".form-item-terms #edit-terms").prop("required",true).attr("checked",false);$("#edit-submit").prop("disabled",true)}else{$(".form-item-terms, .privacy-policy-contact").hide();$(".form-item-terms #edit-terms").prop("required",false);$("#edit-submit").prop("disabled",false)}};a.prototype.wirePhoneMasking=function(){var b=this;this.controlOptinVisibility(null);var c=$('select[name="country"]',this.$form).val();if(c==="United States"||c==="Canada"){$('input[name="home_phone_masked"]').mask("(000) 000-0000")}else{$('input[name="home_phone_masked"]').attr("placeholder","Include country code")}$('select[name="country"]',this.$form).change(function(){$('select[name="country"] option[selected="selected"]').attr("selected",false);$('select[name="country"]').find('option[value="'+$(this).val()+'"]').attr("selected","selected");$('input[name="home_phone_masked"]').val("");if($(this).val()!=="United States"&&$(this).val()!=="Canada"){$('input[name="home_phone_masked"]').attr("placeholder","Include country code");$('input[name="home_phone_masked"]').unmask().removeAttr("maxlength");b.settings.leadFormPhoneIsMasked=false}else{$('input[name="home_phone_masked"]').attr("placeholder","");$('input[name="home_phone_masked"]').mask("(000) 000-0000");b.settings.leadFormPhoneIsMasked=true}b.controlOptinVisibility(this)});$(".form-item-terms #edit-terms").click(function(){if($(this).is(":checked")){$("#edit-submit").prop("disabled",false)}else{$("#edit-submit").prop("disabled",true)}})};a.prototype.syncHiddenFields=function(){if(this.$form.find("input[name=home_phone_masked]").length){var f=this.settings.leadFormPhoneIsMasked;var d;try{d=f?this.$form.find("input[name=home_phone_masked]").cleanVal():this.$form.find("input[name=home_phone_masked]").val()}catch(g){d=this.$form.find("input[name=home_phone_masked]").val()}this.$form.find('input[name="home_phone"]').val(d)}$('input[name="Optout"]',this.$form).val($("#edit-terms").is(":checked")?1:0);if($('select[name="company_size"]',this.$form).length){var c=$('select[name="company_size"] option:selected',this.$form).text();var b=c.split(" ");if(c.indexOf("More")>=0){b[2]="20001"}$('input[name="desired_users_min"]',this.$form).val(b[0].replace(",",""));$('input[name="desired_users_max"]',this.$form).val(b[2].replace(",",""))}if($('input[name="company_size"][type="hidden"]').length){$('input[name="company_size"]',this.$form).val($('input[name="desired_users_max"]:checked').val())}};a.prototype.handleSubmitSuccess=function(e){var b="",d;if(e.error===0){d='<p><span class="response-header">Thank you for your submission.</span></p><p>'+this.settings.thankYouMessage+"</p>";if(this.settings.assetDelegate){this.settings.assetDelegate.complete()}}else{if(typeof e.validation!==undefined&&!$.isEmptyObject(e.validation)){b="alert";d='<p><span class="response-header"><span class="alert">&nbsp;</span>Submission Error</span></p>';d+="<ul>";$.each(e.validation,function(c,f){$('input[name="'+c+'"]').addClass("invalid-field");d+='<li class="alert">'+f+"</li>"});d+="</ul>";this.$form.removeClass("hide");$(".leadform-loading").addClass("hide");$(".form-header",this.$form).removeClass("hide")}else{b="alert";d='<p><span class="response-header">Submission Error</span></p><p>'+e.msg+"</p>";this.$form.removeClass("hide");$("#edit-submit").attr("disabled",false);d+='<span id="error">'+e.msg+"</span>"}}$(".leadform-msg",this.$form.parent()).html('<div class="callout '+b+'">'+d+"</div>").removeClass("hide");$(".leadform-loading",this.$form).addClass("hide")};a.prototype.handleSubmitError=function(b){console.log(b);$(".leadform-msg",this.$form.parent()).html('<div class="callout alert"><span id="error">An unexpected error occurred and we cannot process your submission.</span></div>').removeClass("hide");$(".form-header",this.$form).removeClass("hide")};a.prototype.handleSubmitComplete=function(b){$("#edit-submit").removeAttr("disabled");this.$form.find(".button.green").removeAttr("disabled");$(".leadform-loading").addClass("hide")};a.prototype.handleSubmit=function(c){c.preventDefault();var b=this;if(b.consentTracker){if(!b.consentTracker.validateConsent()){return}this.consentTracker.tracker.trackChoices(c)}if(!this.settings.inlineProgressIndicator){b.$form.addClass("hide");$(".leadform-msg",this.$form.parent()).addClass("hide").html("");$(".form-header",this.$form).addClass("hide");$(".leadform-loading",this.$form).removeClass("hide")}else{b.$form.find(".button.green").attr("disabled",true)}this.syncHiddenFields();$(".invalid-field").removeClass("invalid-field");SF.doRecaptcha(c,$(".g-recaptcha",this.$form),function(){if(b.settings.bypassSubmission){b.handleSubmitSuccess({error:0});return}$("#edit-submit").attr("disabled","disabled");$.ajax({type:$(c.currentTarget).data("method")||b.settings.requestType,url:b.leadformURL,dataType:"json",data:b.$form.serialize(),success:b.handleSubmitSuccess.bind(b),error:b.handleSubmitError.bind(b),complete:b.handleSubmitComplete.bind(b)})})};return a}());var MultistepVoipLeadForm=(function(b){__extends(a,b);function a(d,c){var e=b.call(this,d,c)||this;e.residential="https://www.voipreview.org/residential_voip";e.wireEvents();return e}a.prototype.wireEvents=function(){var i=this;var f=this.$form;$("#edit-voiptype-home").click(function(){window.location.replace(i.residential)});f.addClass("leadform-step-1");var h=1;$("#leadform-step-indicator").text(h);var j=new Date();var e=j.getDay();var c=j.getHours();var g="<div class='call-text'><span>Want Free buying advice?</span><label class='call-now'>Call us now at</label><span class='tollfree'><a href='tel:8883824669'><img src='/sites/all/modules/custom/leadform/images/voip-quote.png' alt='VoIP Quote'></a></span></div>";$("form.multi-form button.multi-next").prop("disabled",true);$('input[name="desired_users_max"]').change(function(){if(typeof $('input[name="desired_users_max"]:checked').val()!=="undefined"){$("form.multi-form button.multi-next").prop("disabled",false)}});$('input[name="VoipType"]').change(function(){if(typeof $('input[name="VoipType"]:checked').val()!=="undefined"){$("form.multi-form button.multi-next").prop("disabled",false)}});$('input[name="timeframe"]').change(function(){if(typeof $('input[name="timeframe"]:checked').val()!=="undefined"){$("form.multi-form button.multi-next").prop("disabled",false)}});$('input[name="type_of_data"]').change(function(){if(typeof $('input[name="type_of_data"]:checked').val()!=="undefined"){$("form.multi-form button.multi-next").prop("disabled",false)}});$("form.multi-form button.multi-next").click(function(){$("fieldset.active").removeClass("active").next("fieldset").addClass("active");var k=$(".meterbar span").attr("data-width");var d=parseInt(k)+20;var l=parseInt($(".meterbar span").attr("data-max-width"));$(".meterbar span").css("width",d+"%");$(".meterbar span").attr("data-width",d);if(d===100){$(".meterbar span").addClass("full-meterbar")}else{$(".meterbar span").removeClass("full-meterbar")}if(l<=d){$(this).prop("disabled",true);$(".meterbar span").attr("data-max-width",d)}f.removeClass("leadform-step-"+h);h++;f.addClass("leadform-step-"+h);$("#leadform-step-indicator").text(h)});$("form.multi-form button.multi-prev").click(function(){var k=$(".meterbar span").attr("data-width");var d=parseInt(k)-20;$(".meterbar span").css("width",d+"%");$(".meterbar span").attr("data-width",d);if(d===100){$(".meterbar span").addClass("full-meterbar")}else{$(".meterbar span").removeClass("full-meterbar")}$("fieldset.active").removeClass("active").prev("fieldset").addClass("active");$("form.multi-form button.multi-next").removeAttr("disabled");f.removeClass("leadform-step-"+h);h--;f.addClass("leadform-step-"+h);$("#leadform-step-indicator").text(h)});$(".icon-info",this.$form).hover(function(){$(".voip-tooltip.redirect").toggle()});$("form.multi-form button.multi-next").click(function(){setTimeout(function(){if($("#edit-step-2").hasClass("active")){$(".steps li").removeClass("currentStep");$(".steps li.steptop1").addClass("activeStep");$(".steps li.steptop2").addClass("currentStep")}else{if($("#edit-step-3").hasClass("active")){$(".steps li").removeClass("currentStep");$(".steps li.steptop1, .steps li.steptop2").addClass("activeStep");$(".steps li.steptop3").addClass("currentStep")}else{if($("#edit-step-4").hasClass("active")){$(".steps li").removeClass("currentStep");$(".steps li.steptop1, .steps li.steptop2, .steps li.steptop3").addClass("activeStep");$(".steps li.steptop4").addClass("currentStep")}else{if($("#edit-step-5").hasClass("active")){$(".steps li").removeClass("currentStep");$(".steps li.steptop1, .steps li.steptop2, .steps li.steptop3, .steps li.steptop4").addClass("activeStep");$(".steps li.steptop5").addClass("currentStep")}else{$(".steps li").removeClass("currentStep activeStep");$(".steps li.steptop1").addClass("activeStep")}}}}},100);if(SF.downloader&&SF.downloader.cancelRedirect){SF.downloader.cancelRedirect()}});$(".buttons .button.left",this.$form).click(function(){setTimeout(function(){if($("#edit-step-1").hasClass("active")){$(".steps li").removeClass("currentStep activeStep");$(".steps li.steptop1").addClass("activeStep")}else{if($("#edit-step-2").hasClass("active")){$(".steps li.steptop3").removeClass("currentStep activeStep");$(".steps li.steptop2").addClass("currentStep")}else{if($("#edit-step-3").hasClass("active")){$(".steps li.steptop4").removeClass("currentStep activeStep");$(".steps li.steptop3").addClass("currentStep")}else{if($("#edit-step-4").hasClass("active")){$(".steps li.steptop5").removeClass("currentStep activeStep");$(".steps li.steptop4").addClass("currentStep")}}}}},100)})};return a}(LeadForm));var Enums;(function(b){var a;(function(c){c.Category="category";c.Billboard="billboard"})(a=b.LeadformPlacement||(b.LeadformPlacement={}))})(Enums||(Enums={}));var GetQuoteLeadForm=(function(b){__extends(a,b);function a(d,c){var h=b.call(this,d,c)||this;h.settings.inlineProgressIndicator=true;h.leadformURL="/api/leadforms/";var e=h;function g(){recaptchaLoad();e.loadExtraResources()}var f=h.$form.parents(".reveal").length>0;if(f){h.$form.parents(".reveal").on("open.zf.reveal",g)}else{g()}h.consentTracker=new BSLLeadsCompliantForm(h.$form,{country_selector:"input[name=country_code]",deferSubmitHandling:true});h.wireMemorableInputs();return h}a.prototype.wireMemorableInputs=function(){bizx.cmp.ifConsent("",["storage"],function(){var d=["input[name=first_name]","input[name=last_name]","input[name=email]","input[name=home_phone_masked]","input[name=extension]","input[name=company_name]","input[name=job_title]"];var g="bsl-lead-form-";$(d.join(", "),this.$form).on("input",function(f){localStorage[g+f.currentTarget.name]=f.currentTarget.value});for(var i=0,c=d;i<c.length;i++){var h=c[i];var e=$(h);e.val(localStorage[g+e.attr("name")])}})};a.prototype.resetPanes=function(){this.$form.removeClass("hide");this.$form.find(".button.green").removeAttr("disabled");if(this.leadFormUpdate){this.leadFormUpdate.$form.addClass("hide");$(".leadform-msg",this.$form.parent()).addClass("hide")}};a.prototype.loadExtraResources=function(){if(this.settings.extraResources){var e=$("head");for(var f=0,d=this.settings.extraResources;f<d.length;f++){var c=d[f];var g;if(c.indexOf(".js?")>=0){g='<script src="'+c+'"><\/script>'}else{if(c.indexOf(".css?")>=0){g='<link rel="stylesheet" href="'+c+'"/>'}else{break}}e.append(g)}}};a.prototype.setProduct=function(f,e,d,c){$("input[name=additional_text_8]",this.$form).val(c);$("input[name=additional_text_9]",this.$form).val(f);$("input[name=additional_text_10]",this.$form).val(e);this.dynamicCategories=d};a.prototype.useLargeHeader=function(){var c=this.$form.parents(".reveal").addClass("modal-large-header");$("#getquote-lead-form input[type=submit]").val("Get Started")};a.prototype.useSmallHeader=function(){var c=this.$form.parents(".reveal").removeClass("modal-large-header");$("#getquote-lead-form input[type=submit]").val("Get Quote")};a.prototype.getPrimaryCategory=function(){return $("input[name=sf_commercial_categories]",this.$form).val()};a.prototype.handleSubmitSuccess=function(c){$(".leadform-msg",this.$form.parent()).addClass("hide");this.$form.find(".button.green").removeAttr("disabled");this.$form.addClass("hide");this.leadFormUpdate=new GetQuoteUpdateForm("#"+this.$form.attr("id")+"-update",{bypassSubmission:false,thankYouMessage:"",entityID:c.data.id,primaryCategory:this.getPrimaryCategory(),categories:this.dynamicCategories})};a.prototype.handleSubmitError=function(g){var f=this;console.log(g);var d;var e=g.responseJSON?g.responseJSON.errors:null;if(e&&e.length>0){d=e.map(function(i){if(i.field){var c=f._getLabelForInputByName(i.field);var h=i.message||"Please enter a valid value.";return'<div class="callout alert"><span id="error">'+c+": "+h+"</span></div>"}else{return'<div class="callout alert"><span id="error">'+i.title+"</span></div>"}})}else{d=['<div class="callout alert">There were some problems with your submission, please double check and try again.</div>']}$(".leadform-msg",this.$form.parent()).html(d.join("")).removeClass("hide");$(".form-header",this.$form).removeClass("hide");this.$form.removeClass("hide");this.$form.find(".button.green").removeAttr("disabled")};a.prototype.wireAppearance=function(f,e){$(".cta-interleaved-get-quote .button").on("click",c);var d=this;function c(){d.setProduct(null,null,null,null);d.useLargeHeader();d.resetPanes();var g=new Foundation.Reveal($(f)).open();$(f).on("closed.zf.reveal",function(){d.useSmallHeader();d.resetPanes()});return false}};a.prototype._getLabelForInputByName=function(f){var d={home_phone:"home_phone_masked",first_name:"first_name",last_name:"last_name",email:"email",company_name:"company_name",job_title:"job_title"};var c=d[f];var e=this.$form.find('input[name="'+c+'"]').parents(".fr-input-set").find("label");var g=e.text().replace(/\s\*$/,"");return g};return a}(LeadForm));var GetQuoteUpdateForm=(function(a){__extends(b,a);function b(e,d){var i=a.call(this,e,d)||this;i.leadformURL="/api/leadforms/"+i.settings.entityID;i.$categoriesSelect=$("select[name=sf_commercial_categories]",i.$form);if(i.settings.categories&&i.settings.categories.length){i.$categoriesSelect.html("");for(var h=0,f=i.settings.categories;h<f.length;h++){var c=f[h];var g=c===i.settings.primaryCategory?"selected":"";i.$categoriesSelect.append("<option "+g+'  value="'+c+'">'+c+"</option>")}i.$categoriesSelect.show()}if(!$("option",i.$categoriesSelect).length){$(".form-item-extra-categories",i.$form).hide()}$("select[name=sf_commercial_categories]").select2({maximumSelectionLength:3,width:"100%"});new Foundation.Tooltip($(".tip",i.$form));i.$form.removeClass("hide");return i}b.prototype.handleSubmitSuccess=function(e){console.log(e.data.id);var c="",d;d='<p><span class="response-header">Thank you for your submission.</span></p><p>'+this.settings.thankYouMessage+"</p>";$(".leadform-msg",this.$form.parent()).html('<div class="callout '+c+'">'+d+"</div>").removeClass("hide");$(".leadform-loading").addClass("hide");this.$form.addClass("hide")};return b}(GetQuoteLeadForm));var WhitepaperLeadForm=(function(b){__extends(a,b);function a(d,c){var e=b.call(this,d,c)||this;if(e.settings.assetDelegate){e.settings.assetDelegate.$el.on("asset_changed",e.changeAsset.bind(e))}$("#modal-whitepaper-download.reveal").on("open.zf.reveal",function(){recaptchaLoad()});$('select[name="country"]',e.$form).on("change",e.handleCountryChange.bind(e));return e}a.prototype.changeAsset=function(f,d){var c=top.location.protocol+d.url;$('input[name="asset_description"]',this.$form).val(d.title);$('input[name="asset_name"]',this.$form).val(d.id);$("#btn-download-now",this.$form).attr("href",c)};a.prototype.handleCountryChange=function(f){var c=$(f.currentTarget).val();var d=this.settings.assetDelegate.complianceRules.translateCountry(c);if(!this.settings.assetDelegate.complianceRules.canGateContent(d)){$(".leadform-gdpr-msg",this.$form).removeClass("hide");$(".fieldset-wrapper",this.$form).hide()}return true};return a}(LeadForm));var Whitepapers=(function(){function a(b,d,c){this.defaults={selectorLink:".link-whitepaper"};this.chosenItem=null;this.settings=$.extend(this.defaults,c);this.$el=$(b);this.complianceRules=new WhitepaperLeadFormRules();this.initialCountry=d;if(this.complianceRules.canGateContent(this.initialCountry)){$(this.settings.selectorLink,this.$el).on("click",this.handleClick.bind(this))}}a.prototype.handleClick=function(c){var b=$(c.currentTarget);this.chosenItem={url:b.data("asset"),title:b.data("title"),id:b.data("id")};if(this.complianceRules.canGateContent(this.initialCountry)){this.$el.trigger("asset_changed",this.chosenItem);return true}else{this.complete();c.preventDefault();return false}};a.prototype.complete=function(){top.location.href=this.chosenItem.url};return a}());SF.Widgets.SendLinkWidget=SendLinkWidget;SF.Widgets.PaneEnabledForm=PaneEnabledForm;SF.Widgets.LeadForm=LeadForm;SF.Widgets.MultistepVoipLeadForm=MultistepVoipLeadForm;SF.Widgets.WhitepaperLeadForm=WhitepaperLeadForm;SF.Widgets.Whitepapers=Whitepapers;SF.Widgets.GetQuoteLeadForm=GetQuoteLeadForm;function rate(f){f.preventDefault();var a=$(this),b=a.parent(),c=b.closest(".review, .m-review"),d=b.serialize();d+="&"+a.attr("name")+"="+a.val();$.ajax({type:"POST",url:b.attr("action"),data:d,dataType:"json",success:function(e,j){var g=parseInt(c.attr("data-helpful-count"),10),h=e.rating?g+=1:g-=1;c.attr("data-helpful-count",h);$(".helpful-count > .user-count",c).html(h);$(".helpful-count > .user-count-label",c).html(h===1?"user":"users");var i=Number(!(Boolean(e.rating)));$('input[name="rating"]',b).val(i);$(".helpful-label",b).text(i?"Was This Helpful?":"Not Helpful");$("#messages").notify({status:"success",message:"Thank you for rating this review."})},error:function(g,h,e){$("#messages").notify({status:"error",message:"An error occurred while posting your rating of this review."})}})}function moderate(d){d.preventDefault();var a=$(this),b=a.parent(),c=b.serialize();c+="&"+a.attr("name")+"="+a.val();$.ajax({type:"POST",url:b.attr("action"),data:c,dataType:"json",success:function(e,j){var h=(e.action==="show")?"hide":"show",g=(h==="show")?"Not Spam":"Flag as Spam",i=a.parents(".reviewed, .m-review"),f=$(".review-txt:first",i);f.toggleClass("spam");a.attr("name",h).attr("value",g).text(g);if($.fn.effect){i.effect("highlight",{},3000)}},error:function(f,g,e){$("#messages").notify({status:"error",message:"An error occurred while moderating this review."})}})}function actionDeleteReview(d){if(window.confirm("Are you sure you want to delete this review?")){var c=$(this),b=$('<form method="post" action="'+c.attr("href")+'"></form>'),g=c.parents("form");var a=$("input[name=_confirm_hash], #_confirm_hash",g);var f=$("input[name=_visit_cookie]",g);b.hide().append(f).append(a).appendTo("body");b.submit()}return false}function initFilters(){var a=new URLSearchParams();a.set("limit",$("#project-reviews > li").length);a.set("offset",0);function b(c){SF.Widgets.pageLoadingSpinner();var d=a.toString();$.ajax({type:"GET",url:"reviews/index_partial",data:d,success:function(f,g){var e=$("#reviews .reviews");if(c){e.html(f.markup)}else{e.append(f.markup)}initReviewsBase();if(f.offset+f.limit<f.total_count){$(".btn-reviews-more").show()}else{$(".btn-reviews-more").hide()}},error:function(f,g,e){$("#messages").notify({status:"error",message:"An error occurred while fetching reviews."})},complete:function(){SF.Widgets.pageLoadingSpinner();truncateUserReviews()}})}$(".btn-reviews-more").on("click",function(c){c.preventDefault();a.set("offset",(Number(a.get("offset"))+Number(a.get("limit"))));b(false)});$(".filter-options li a").on("click",function(d){d.preventDefault();var f=$(this);$(".m-review-filters .active").removeClass("active");f.addClass("active");f.parents(".filter-options").addClass("active");var c=f.attr("href").split("?")[1];a=new URLSearchParams(c);b(true)})}$(initFilters);function initReviewsBase(){$(".btn-delete-review").on("click",actionDeleteReview);$("form.rate-review input[type=submit], form.rate-review button[type=submit]").on("click",rate);$(".btn-reply-review").on("click",function(){$(this).closest(".m-review, .m-helpful-review").find(".m-review-reply").toggleClass("s-inactive").find("textarea").focus()});$(".btn-edit-reply").on("click",function(){var a=$(this).closest(".m-reply");a.find(".reply-content form").toggleClass("s-inactive").find("textarea").focus();a.find(".reply-comment").toggleClass("s-inactive");$(this).toggle()});$(".btn-cancel-reply").on("click",function(){var a=$(this).closest(".m-reply");a.find(".reply-content form").toggleClass("s-inactive");a.find(".reply-comment").toggleClass("s-inactive");a.find(".btn-edit-reply").toggle();return false});$(".form-delete-reply").submit(function(){return window.confirm("Really delete this reply?")});SF.Widgets.reviewTiles=new SF.Widgets.CommercialReviewsTiles();window.addEventListener("resize",SF.Widgets.reviewTiles.resizeAll.bind(SF.Widgets.reviewTiles),isPassiveEventListenerSupported()?{passive:true}:false)}$(initReviewsBase);function initOSSReviews(){var b=$("#pg_project,#pg_reviews"),c=0,a=0;if(!b.length){return}$("form.moderate-review input[type=submit], form.moderate-review button").on("click",moderate);$("#reviews-admin a").click(function(h){var d=$(h.target);var f=$("#reviews_admin");var g=d.attr("data-val");h.preventDefault();f.find('input[name="disabled"]').val(g);f.submit();return false})}$(initOSSReviews);function initNewReviewPage(){var b=$("#pg_reviews_new");if(!b.length){var a=$(".fielderror").filter(function(){return $(this).text()}).first();a.parent("div.input").find("input, select").focus()}$(".dimensional-ratings.dimensions-inline .dimension-rating").on("change",function(){$(".dimensional-ratings.dimensions-inline .cumulative-start").get(0).checked=false});$(".input-checkbox-group.required input").on("change",function(){$(this).parents(".input-checkbox-group").find("input").each(function(){this.setCustomValidity("")})});$(".m-review-add").on("submit",function(c){return SF.reviewConsentTracking.validatePane()});$(".c-char-counter").each(function(){var f=$(this);var c=f.siblings("input, textarea");var d=f.attr("data-min");var e=d+" character minimum. $remaining remaining.";f.html(d+" character minimum.");c.on("input",function(i){var g=$(this);var h=Number(d)-g.val().length;if(h>0){f.html(e.replace("$remaining",h))}else{f.html("")}})})}$(initNewReviewPage);SF.Widgets.CommercialReviewTile=(function(){function a(e){this.$t=$(e);this.$overview=this.$t.find(".ext-review-overview");this.$content=this.$t.find(".ext-review-content");this.$body=this.$t.find(".ext-review-body");var c=this.$t.find(".tooltip-reviewer");if(c.length){var b=c.data("party")==="vendor"?"the vendor":"us";var d=c.data("form")==="gift-card"?"in the form of a gift card":"";this.tooltip=new Foundation.Tooltip(c,{tipText:"This verified reviewer was invited by "+b+" to write an honest review and was given a nominal incentive "+d+" for their time."})}}a.prototype.resize=function(){var i=Foundation.MediaQuery.current!=="small";var h=this.$t;var c=this.$content;var g=this.$body;var d=this.$overview;var f=i?d.offset().top+d.outerHeight():300;var e=i?c.offset().top+c.outerHeight():c.outerHeight();var b=!(h.hasClass("readmore-expanded"));if(e>=f&&b){h.addClass("needs-readmore");if(i){g.css("height",d.outerHeight());c.css("height","calc(100% - "+(c.offset().top-c.offsetParent().offset().top)+"px)")}else{c.css("height",f);g.css("height","auto")}}else{h.removeClass("needs-readmore");c.css("height","auto");g.css("height","auto")}};return a})();SF.Widgets.CommercialReviewsTiles=(function(){function a(){this.$reviews=$(".m-review.extended");this.reviews=[];var b=this;this.$reviews.each(function(){b.reviews.push(new SF.Widgets.CommercialReviewTile(this))});$(".m-review.extended .link-read-more").on("click",function(c){c.preventDefault();$(this).parents(".m-review.extended").removeClass("needs-readmore").addClass("readmore-expanded")});this.resizeAll()}a.prototype.resizeAll=function(){for(var b=0;b<this.reviews.length;b++){this.reviews[b].resize()}};return a})();$(function(){if(!$("#project-activity").length){return}Handlebars.registerHelper("ago",function(g){g=new Date(g);var l=Math.max(Math.floor((new Date()-g)/1000),0);var m=[["year",Math.round(l/31536000)],["month",Math.round(l/2592000)],["week",Math.round(l/604800)],["day",Math.round(l/86400)],["hour",Math.round(l/3600)],["minute",Math.round(l/60)]];for(var h=0;h<m.length;h++){var k=m[h];var j=k[1]>1?"s":"";if(k[1]>0){return k[1]+" "+k[0]+j+" ago"}}return"just now"});Handlebars.registerHelper("ifTagged",function(g,h){if(!this.tags||$.inArray(g,this.tags)===-1){return h.inverse(this)}return h.fn(this)});Handlebars.registerHelper("cap",function(g){return g.charAt(0).toUpperCase()+g.slice(1)});Handlebars.registerHelper("activity_obj",function(h){var g=h.activity_name;g=Handlebars.Utils.escapeExpression(g);if(h.activity_url){g='<a href="'+h.activity_url+'">'+g+"</a>"}return new Handlebars.SafeString(g)});Handlebars.registerHelper("icon",function(g){if(g){return new Handlebars.SafeString('<img src="'+g+'" class="x16 emboss avatar" width="16" height="16"/>')}else{return new Handlebars.SafeString('<b data-icon="U" class="ico ico-user x16 emboss avatar"></b>')}});Handlebars.registerHelper("iso8601date",function(g){return(new Date(g)).toISOString()});Handlebars.registerHelper("readable_date",function(g){return(new Date(g)).toISOString().split(".")[0].replace("T"," ")});function d(g){var h=$("#follow-action");if(h.length===0){return}if(g.following){h.addClass("active");h.attr("title",h.attr("title").replace("Follow ","Stop following "))}else{h.removeClass("active");h.attr("title",h.attr("title").replace("Stop following ","Follow "))}}function c(i){var h=$(this);var g={follow:!h.hasClass("active"),_session_id:$.cookie("_session_id")};$.post(h.attr("href"),g,d,"json");i.preventDefault();return false}function b(g){if(!g.timeline.length){$(".m-project-activity").hide();return}$("#project-activity").html(e(g));d(g);var h=$("#follow-action");h.attr("title",(g.following?"Stop following ":"Follow ")+h.attr("title"));h.click(c)}var f=$("link[rel=alternate][href*=activity]").attr("href");var a="/rest"+f.replace("/feed","?limit=5");var e=Handlebars.compile($("#project-activity-template").html());$.ajax({dataType:"json",global:false,url:a,success:b})});SF.Ads.showContentForAdblock=function(){if(SF.adblock&&SF.Ads.Template7){$("#content-for-adblock").show();$("#sterling-primary").hide()}};SF.Ads.watchLeadgenResize=function(a){window.addEventListener("message",b,false);function b(c){if(c.data&&c.data.lf_iframeid&&c.data.lf_height){document.getElementById(c.data.lf_iframeid).height=(c.data.lf_height)+"px"}if(c.data&&c.data.lf_disable_redirect&&a){a()}}};var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var BaseNEL=(function(){function a(b){this.$el=$(b)}return a}());var StandardNEL=(function(b){__extends(a,b);function a(){return b!==null&&b.apply(this,arguments)||this}return a}(BaseNEL));var LiteNEL=(function(b){__extends(a,b);function a(c){var d=b.call(this,c)||this;$(".heading-main a, a.thumbnail",d.$el).on("click",function(g){g.preventDefault();var f=$(this).parents(".nel");if($(this).attr("data-open")){return true}f.find(".nel-arrow").animate({"margin-right":"+=100px"},400).animate({"margin-right":"-=100px"},400,"easeOutBounce");return false});return d}return a}(BaseNEL));var PremiumNEL=(function(b){__extends(a,b);function a(c){var d=b.call(this,c)||this;d.paid=true;$(".sfdl, .heading-main a, a.thumbnail",d.$el).on("click",d.initiateFilters.bind(d));$(".tile label",d.$el).bind("click",d.handleAnswer.bind(d));return d}a.prototype.initiateFilters=function(f){f.preventDefault();if($(f.currentTarget).attr("data-open")){return true}var c=$(f.target).parents(".nel");var d=c.find(".tiles .tile").eq(0);this.advance(d);c.addClass("premium-active");return false};a.prototype.advance=function(d){var f=d;var e=d.parents(".tiles");var c=f.outerWidth()*-1;e.css("transform","translateX("+(f.index()+1)*-100+"%)")};a.prototype.handleAnswer=function(g){g.preventDefault();var h=$(g.currentTarget);var c=h.parents(".tile");var f=h.parents(".tile");if(!h.hasClass("acceptable")){this.paid=false}if(f.hasClass("last")){var d=this.paid?c.attr("data-click-url"):c.attr("data-non-paid-url");window.open(d,"_blank")}else{this.advance(f)}return false};return a}(BaseNEL));var NELFactory=(function(){function a(){}a.prototype.get=function(e){var c={premium:PremiumNEL,lite:LiteNEL};var b=StandardNEL;for(var d in c){if(e.hasClass(d)){b=c[d]}}return new b(e)};a.prototype.getAll=function(){var b=this;var c=[];$(".nel").each(function(){c.push(b.get($(this)))});return c};return a}());var NELManager=(function(){function a(){this.nels=[];this.factory=new NELFactory();this.init()}a.prototype.init=function(){this.nels=this.factory.getAll();truncateDescrWithExpandLink(".nel.can-truncate .description");$(".video-modal.reveal").on("open.zf.reveal",function(){$("video",$(this)).get(0).play()});$(".video-modal.reveal").on("closed.zf.reveal",function(){$("video",$(this)).get(0).pause()})};return a}());SF.NELs=new NELManager();!function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b)}):"object"==typeof module&&"object"==typeof module.exports?exports=a(require("jquery")):a(jQuery)}(function(g){function k(f){var c=7.5625,a=2.75;return f<1/a?c*f*f:f<2/a?c*(f-=1.5/a)*f+0.75:f<2.5/a?c*(f-=2.25/a)*f+0.9375:c*(f-=2.625/a)*f+0.984375}void 0!==g.easing&&(g.easing.jswing=g.easing.swing);var q=Math.pow,p=Math.sqrt,b=Math.sin,h=Math.cos,m=Math.PI,l=1.70158,d=1.525*l,v=2*m/3,j=2*m/4.5;g.extend(g.easing,{def:"easeOutQuad",swing:function(a){return g.easing[g.easing.def](a)},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return 1-(1-a)*(1-a)},easeInOutQuad:function(a){return a<0.5?2*a*a:1-q(-2*a+2,2)/2},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1-q(1-a,3)},easeInOutCubic:function(a){return a<0.5?4*a*a*a:1-q(-2*a+2,3)/2},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1-q(1-a,4)},easeInOutQuart:function(a){return a<0.5?8*a*a*a*a:1-q(-2*a+2,4)/2},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1-q(1-a,5)},easeInOutQuint:function(a){return a<0.5?16*a*a*a*a*a:1-q(-2*a+2,5)/2},easeInSine:function(a){return 1-h(a*m/2)},easeOutSine:function(a){return b(a*m/2)},easeInOutSine:function(a){return-(h(m*a)-1)/2},easeInExpo:function(a){return 0===a?0:q(2,10*a-10)},easeOutExpo:function(a){return 1===a?1:1-q(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:a<0.5?q(2,20*a-10)/2:(2-q(2,-20*a+10))/2},easeInCirc:function(a){return 1-p(1-q(a,2))},easeOutCirc:function(a){return p(1-q(a-1,2))},easeInOutCirc:function(a){return a<0.5?(1-p(1-q(2*a,2)))/2:(p(1-q(-2*a+2,2))+1)/2},easeInElastic:function(a){return 0===a?0:1===a?1:-q(2,10*a-10)*b((10*a-10.75)*v)},easeOutElastic:function(a){return 0===a?0:1===a?1:q(2,-10*a)*b((10*a-0.75)*v)+1},easeInOutElastic:function(a){return 0===a?0:1===a?1:a<0.5?-(q(2,20*a-10)*b((20*a-11.125)*j))/2:q(2,-20*a+10)*b((20*a-11.125)*j)/2+1},easeInBack:function(a){return(l+1)*a*a*a-l*a*a},easeOutBack:function(a){return 1+(l+1)*q(a-1,3)+l*q(a-1,2)},easeInOutBack:function(a){return a<0.5?q(2*a,2)*(7.189819*a-d)/2:(q(2*a-2,2)*((d+1)*(2*a-2)+d)+2)/2},easeInBounce:function(a){return 1-k(1-a)},easeOutBounce:k,easeInOutBounce:function(a){return a<0.5?(1-k(1-2*a))/2:(1+k(2*a-1))/2}})});var $jscomp={scope:{},findInternal:function(a,l,d){a instanceof String&&(a=String(a));for(var p=a.length,h=0;h<p;h++){var b=a[h];if(l.call(d,b,h,a))return{i:h,v:b}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,l,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[l]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,l,d,p){if(l){d=$jscomp.global;a=a.split(".");for(p=0;p<a.length-1;p++){var h=a[p];h in d||(d[h]={});d=d[h]}a=a[a.length-1];p=d[a];l=l(p);l!=p&&null!=l&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:l})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");(function(a,l,d){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?module.exports=a(require("jquery")):a(l||d)})(function(a){var l=function(b,e,f){var c={invalid:[],getCaret:function(){try{var a,r=0,g=b.get(0),e=document.selection,f=g.selectionStart;if(e&&-1===navigator.appVersion.indexOf("MSIE 10"))a=e.createRange(),a.moveStart("character",-c.val().length),r=a.text.length;else if(f||"0"===f)r=f;return r}catch(C){}},setCaret:function(a){try{if(b.is(":focus")){var c,g=b.get(0);g.setSelectionRange?g.setSelectionRange(a,a):(c=g.createTextRange(),c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select())}}catch(B){}},events:function(){b.on("keydown.mask",function(a){b.data("mask-keycode",a.keyCode||a.which);b.data("mask-previus-value",b.val());b.data("mask-previus-caret-pos",c.getCaret());c.maskDigitPosMapOld=c.maskDigitPosMap}).on(a.jMaskGlobals.useInput?"input.mask":"keyup.mask",c.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){b.keydown().keyup()},100)}).on("change.mask",function(){b.data("changed",!0)}).on("blur.mask",function(){d===c.val()||b.data("changed")||b.trigger("change");b.data("changed",!1)}).on("blur.mask",function(){d=c.val()}).on("focus.mask",function(b){!0===f.selectOnFocus&&a(b.target).select()}).on("focusout.mask",function(){f.clearIfNotMatch&&!h.test(c.val())&&c.val("")})},getRegexMask:function(){for(var a=[],b,c,f,n,d=0;d<e.length;d++)(b=m.translation[e.charAt(d)])?(c=b.pattern.toString().replace(/.{1}$|^.{1}/g,""),f=b.optional,(b=b.recursive)?(a.push(e.charAt(d)),n={digit:e.charAt(d),pattern:c}):a.push(f||b?c+"?":c)):a.push(e.charAt(d).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));a=a.join("");n&&(a=a.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern));return new RegExp(a)},destroyEvents:function(){b.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(a){var c=b.is("input")?"val":"text";if(0<arguments.length){if(b[c]()!==a)b[c](a);c=b}else c=b[c]();return c},calculateCaretPosition:function(){var a=b.data("mask-previus-value")||"",e=c.getMasked(),g=c.getCaret();if(a!==e){var f=b.data("mask-previus-caret-pos")||0,e=e.length,d=a.length,m=a=0,h=0,l=0,k;for(k=g;k<e&&c.maskDigitPosMap[k];k++)m++;for(k=g-1;0<=k&&c.maskDigitPosMap[k];k--)a++;for(k=g-1;0<=k;k--)c.maskDigitPosMap[k]&&h++;for(k=f-1;0<=k;k--)c.maskDigitPosMapOld[k]&&l++;g>d?g=10*e:f>=g&&f!==d?c.maskDigitPosMapOld[g]||(f=g,g=g-(l-h)-a,c.maskDigitPosMap[g]&&(g=f)):g>f&&(g=g+(h-l)+m)}return g},behaviour:function(f){f=f||window.event;c.invalid=[];var e=b.data("mask-keycode");if(-1===a.inArray(e,m.byPassKeys)){var e=c.getMasked(),g=c.getCaret();setTimeout(function(){c.setCaret(c.calculateCaretPosition())},10);c.val(e);c.setCaret(g);return c.callbacks(f)}},getMasked:function(a,b){var g=[],d=void 0===b?c.val():b+"",n=0,h=e.length,q=0,l=d.length,k=1,r="push",p=-1,t=0,y=[],v,z;f.reverse?(r="unshift",k=-1,v=0,n=h-1,q=l-1,z=function(){return-1<n&&-1<q}):(v=h-1,z=function(){return n<h&&q<l});for(var A;z();){var x=e.charAt(n),w=d.charAt(q),u=m.translation[x];if(u)w.match(u.pattern)?(g[r](w),u.recursive&&(-1===p?p=n:n===v&&n!==p&&(n=p-k),v===p&&(n-=k)),n+=k):w===A?(t--,A=void 0):u.optional?(n+=k,q-=k):u.fallback?(g[r](u.fallback),n+=k,q-=k):c.invalid.push({p:q,v:w,e:u.pattern}),q+=k;else{if(!a)g[r](x);w===x?(y.push(q),q+=k):(A=x,y.push(q+t),t++);n+=k}}d=e.charAt(v);h!==l+1||m.translation[d]||g.push(d);g=g.join("");c.mapMaskdigitPositions(g,y,l);return g},mapMaskdigitPositions:function(a,b,e){a=f.reverse?a.length-e:0;c.maskDigitPosMap={};for(e=0;e<b.length;e++)c.maskDigitPosMap[b[e]+a]=1},callbacks:function(a){var h=c.val(),g=h!==d,m=[h,a,b,f],q=function(a,b,c){"function"===typeof f[a]&&b&&f[a].apply(this,c)};q("onChange",!0===g,m);q("onKeyPress",!0===g,m);q("onComplete",h.length===e.length,m);q("onInvalid",0<c.invalid.length,[h,a,b,c.invalid,f])}};b=a(b);var m=this,d=c.val(),h;e="function"===typeof e?e(c.val(),void 0,b,f):e;m.mask=e;m.options=f;m.remove=function(){var a=c.getCaret();c.destroyEvents();c.val(m.getCleanVal());c.setCaret(a);return b};m.getCleanVal=function(){return c.getMasked(!0)};m.getMaskedVal=function(a){return c.getMasked(!1,a)};m.init=function(d){d=d||!1;f=f||{};m.clearIfNotMatch=a.jMaskGlobals.clearIfNotMatch;m.byPassKeys=a.jMaskGlobals.byPassKeys;m.translation=a.extend({},a.jMaskGlobals.translation,f.translation);m=a.extend(!0,{},m,f);h=c.getRegexMask();if(d)c.events(),c.val(c.getMasked());else{f.placeholder&&b.attr("placeholder",f.placeholder);b.data("mask")&&b.attr("autocomplete","off");d=0;for(var l=!0;d<e.length;d++){var g=m.translation[e.charAt(d)];if(g&&g.recursive){l=!1;break}}l&&b.attr("maxlength",e.length);c.destroyEvents();c.events();d=c.getCaret();c.val(c.getMasked());c.setCaret(d)}};m.init(!b.is("input"))};a.maskWatchers={};var d=function(){var b=a(this),e={},f=b.attr("data-mask");b.attr("data-mask-reverse")&&(e.reverse=!0);b.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0);"true"===b.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0);if(p(b,f,e))return b.data("mask",new l(this,f,e))},p=function(b,e,f){f=f||{};var c=a(b).data("mask"),d=JSON.stringify;b=a(b).val()||a(b).text();try{return"function"===typeof e&&(e=e(b)),"object"!==typeof c||d(c.options)!==d(f)||c.mask!==e}catch(t){}},h=function(a){var b=document.createElement("div"),d;a="on"+a;d=a in b;d||(b.setAttribute(a,"return;"),d="function"===typeof b[a]);return d};a.fn.mask=function(b,d){d=d||{};var e=this.selector,c=a.jMaskGlobals,h=c.watchInterval,c=d.watchInputs||c.watchInputs,t=function(){if(p(this,b,d))return a(this).data("mask",new l(this,b,d))};a(this).each(t);e&&""!==e&&c&&(clearInterval(a.maskWatchers[e]),a.maskWatchers[e]=setInterval(function(){a(document).find(e).each(t)},h));return this};a.fn.masked=function(a){return this.data("mask").getMaskedVal(a)};a.fn.unmask=function(){clearInterval(a.maskWatchers[this.selector]);delete a.maskWatchers[this.selector];return this.each(function(){var b=a(this).data("mask");b&&b.remove().removeData("mask")})};a.fn.cleanVal=function(){return this.data("mask").getCleanVal()};a.applyDataMask=function(b){b=b||a.jMaskGlobals.maskElements;(b instanceof a?b:a(b)).filter(a.jMaskGlobals.dataMaskAttr).each(d)};h={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&h("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{};h=a.jMaskGlobals=a.extend(!0,{},h,a.jMaskGlobals);h.dataMask&&a.applyDataMask();setInterval(function(){a.jMaskGlobals.watchDataMask&&a.applyDataMask()},h.watchInterval)},window.jQuery,window.Zepto);!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:["width","items","settings"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:["items","settings"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g--;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i;this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c)}},{filter:["width","items","settings"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var b,c,e;b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&e<=0&&this.preloadAutoWidthImages(b)}this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),"function"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(b,c){var d=-1,e=30,f=this.width(),g=this.coordinates();return this.settings.freeDrag||a.each(g,a.proxy(function(a,h){return"left"===c&&b>h-e&&b<h+e?d=a:"right"===c&&b>h-f-e&&b<h-f+e?d=a+1:this.op(b,"<",h)&&this.op(b,">",g[a+1]||h-f)&&(d="left"===c?a+1:a),d===-1},this)),this.settings.loop||(this.op(b,">",g[this.minimum()])?d=b=this.minimum():this.op(b,"<",g[this.maximum()])&&(d=b=this.maximum())),d},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){for(b=this._items.length,c=this._items[--b].width(),d=this.$element.width();b--&&(c+=this._items[b].width()+this.settings.margin,!(c>d)););f=b+1}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=f*-1*g),a=c+e,d=((a-h)%g+g)%g+h,d!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.$element.is(":visible")&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn("Can not detect viewport width."),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"))},this))},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),this.settings.responsive!==!1&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:a<c;case">":return d?a<c:a>c;case">=":return d?a<=c:a>=c;case"<=":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&a.namespace.indexOf("owl")!==-1?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==typeof b&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&e*-1||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b)},this);f++<e;)this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.$stage.children().toArray().slice(b,c),e=[],f=0;a.each(d,function(b,c){e.push(a(c).height())}),f=Math.max.apply(null,e),this._core.$stage.parent().height(f).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"}(),d=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else if(d[3].indexOf("vimeo")>-1)c="vimeo";else{if(!(d[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");c="vzaar"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(d),b.after(e)};if(b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length)return l(h.attr(i)),h.remove(),!1;"youtube"===c.type?(f="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}):"vzaar"===c.type&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest("."+this._core.settings.itemClass),f=this._videos[e.attr("data-video")],g=f.width||"100%",h=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),"youtube"===f.type?c='<iframe width="'+g+'" height="'+h+'" src="//www.youtube.com/embed/'+f.id+"?autoplay=1&rel=0&v="+f.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===f.type?c='<iframe src="//player.vimeo.com/video/'+f.id+'?autoplay=1" width="'+g+'" height="'+h+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===f.type&&(c='<iframe frameborder="0"height="'+h+'"width="'+g+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+f.id+'/player?autoplay=true"></iframe>'),a('<div class="owl-video-frame">'+c+"</div>").insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame")},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type)},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&"position"===a.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype.play=function(a,b){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},e.prototype._getNextTimeout=function(d,e){return this._timeout&&b.clearTimeout(this._timeout),b.setTimeout(a.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||c.hidden||this._core.next(e||this._core.settings.autoplaySpeed)},this),d||this._core.settings.autoplayTimeout)},e.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},e.prototype.stop=function(){this._core.is("rotating")&&(b.clearTimeout(this._timeout),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a("<div>").addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+h.join(f+" ")+f).split(" "),function(a,b){if(g[b]!==d)return e=!c||b,!1}),e}function f(a){return e(a,!0)}var g=a("<support>").get(0).style,h="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},j={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}};j.csstransitions()&&(a.support.transition=new String(f("transition")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f("animation")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f("transform")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document);!function(a){"use strict";function b(a,c){if(!(this instanceof b)){var d=new b(a,c);return d.open(),d}this.id=b.id++,this.setup(a,c),this.chainCallbacks(b._callbackChain)}function c(a,b){var c={};for(var d in a)d in b&&(c[d]=a[d],delete a[d]);return c}function d(a,b){var c={},d=new RegExp("^"+b+"([A-Z])(.*)");for(var e in a){var f=e.match(d);if(f){var g=(f[1]+f[2].replace(/([A-Z])/g,"-$1")).toLowerCase();c[g]=a[e]}}return c}if("undefined"==typeof a)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var e=[],f=function(b){return e=a.grep(e,function(a){return a!==b&&a.$instance.closest("body").length>0})},g={allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,name:1,referrerpolicy:1,scrolling:1,sandbox:1,src:1,srcdoc:1,width:1},h={keyup:"onKeyUp",resize:"onResize"},i=function(c){a.each(b.opened().reverse(),function(){return c.isDefaultPrevented()||!1!==this[h[c.type]](c)?void 0:(c.preventDefault(),c.stopPropagation(),!1)})},j=function(c){if(c!==b._globalHandlerInstalled){b._globalHandlerInstalled=c;var d=a.map(h,function(a,c){return c+"."+b.prototype.namespace}).join(" ");a(window)[c?"on":"off"](d,i)}};b.prototype={constructor:b,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:a.noop,beforeContent:a.noop,beforeClose:a.noop,afterOpen:a.noop,afterContent:a.noop,afterClose:a.noop,onKeyUp:a.noop,onResize:a.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(b,c){"object"!=typeof b||b instanceof a!=!1||c||(c=b,b=void 0);var d=a.extend(this,c,{target:b}),e=d.resetCss?d.namespace+"-reset":d.namespace,f=a(d.background||['<div class="'+e+"-loading "+e+'">','<div class="'+e+'-content">','<button class="'+e+"-close-icon "+d.namespace+'-close" aria-label="Close">',d.closeIcon,"</button>",'<div class="'+d.namespace+'-inner">'+d.loading+"</div>","</div>","</div>"].join("")),g="."+d.namespace+"-close"+(d.otherClose?","+d.otherClose:"");return d.$instance=f.clone().addClass(d.variant),d.$instance.on(d.closeTrigger+"."+d.namespace,function(b){var c=a(b.target);("background"===d.closeOnClick&&c.is("."+d.namespace)||"anywhere"===d.closeOnClick||c.closest(g).length)&&(d.close(b),b.preventDefault())}),this},getContent:function(){if(this.persist!==!1&&this.$content)return this.$content;var b=this,c=this.constructor.contentFilters,d=function(a){return b.$currentTarget&&b.$currentTarget.attr(a)},e=d(b.targetAttr),f=b.target||e||"",g=c[b.type];if(!g&&f in c&&(g=c[f],f=b.target&&e),f=f||d("href")||"",!g)for(var h in c)b[h]&&(g=c[h],f=b[h]);if(!g){var i=f;if(f=null,a.each(b.contentFilters,function(){return g=c[this],g.test&&(f=g.test(i)),!f&&g.regex&&i.match&&i.match(g.regex)&&(f=i),!f}),!f)return"console"in window&&window.console.error("Featherlight: no content filter found "+(i?' for "'+i+'"':" (no target specified)")),!1}return g.process.call(b,f)},setContent:function(b){var c=this;return b.is("iframe")&&c.$instance.addClass(c.namespace+"-iframe"),c.$instance.removeClass(c.namespace+"-loading"),c.$instance.find("."+c.namespace+"-inner").not(b).slice(1).remove().end().replaceWith(a.contains(c.$instance[0],b[0])?"":b),c.$content=b.addClass(c.namespace+"-inner"),c},open:function(b){var c=this;if(c.$instance.hide().appendTo(c.root),!(b&&b.isDefaultPrevented()||c.beforeOpen(b)===!1)){b&&b.preventDefault();var d=c.getContent();if(d)return e.push(c),j(!0),c.$instance.fadeIn(c.openSpeed),c.beforeContent(b),a.when(d).always(function(a){c.setContent(a),c.afterContent(b)}).then(c.$instance.promise()).done(function(){c.afterOpen(b)})}return c.$instance.detach(),a.Deferred().reject().promise()},close:function(b){var c=this,d=a.Deferred();return c.beforeClose(b)===!1?d.reject():(0===f(c).length&&j(!1),c.$instance.fadeOut(c.closeSpeed,function(){c.$instance.detach(),c.afterClose(b),d.resolve()})),d.promise()},resize:function(a,b){if(a&&b){this.$content.css("width","").css("height","");var c=Math.max(a/(parseInt(this.$content.parent().css("width"),10)-1),b/(parseInt(this.$content.parent().css("height"),10)-1));c>1&&(c=b/Math.floor(b/c),this.$content.css("width",""+a/c+"px").css("height",""+b/c+"px"))}},chainCallbacks:function(b){for(var c in b)this[c]=a.proxy(b[c],this,a.proxy(this[c],this))}},a.extend(b,{id:0,autoBind:"[data-featherlight]",defaults:b.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(b){return b instanceof a&&b},process:function(b){return this.persist!==!1?a(b):a(b).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(b){var c=this,d=a.Deferred(),e=new Image,f=a('<img src="'+b+'" alt="" class="'+c.namespace+'-image" />');return e.onload=function(){f.naturalWidth=e.width,f.naturalHeight=e.height,d.resolve(f)},e.onerror=function(){d.reject(f)},e.src=b,d.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(b){return a(b)}},ajax:{regex:/./,process:function(b){var c=a.Deferred(),d=a("<div></div>").load(b,function(a,b){"error"!==b&&c.resolve(d.contents()),c.fail()});return c.promise()}},iframe:{process:function(b){var e=new a.Deferred,f=a("<iframe/>"),h=d(this,"iframe"),i=c(h,g);return f.hide().attr("src",b).attr(i).css(h).on("load",function(){e.resolve(f.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),e.promise()}},text:{process:function(b){return a("<div>",{text:b})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(b,c){var d=this,e=new RegExp("^data-"+c+"-(.*)"),f={};return b&&b.attributes&&a.each(b.attributes,function(){var b=this.name.match(e);if(b){var c=this.value,g=a.camelCase(b[1]);if(a.inArray(g,d.functionAttributes)>=0)c=new Function(c);else try{c=JSON.parse(c)}catch(h){}f[g]=c}}),f},extend:function(b,c){var d=function(){this.constructor=b};return d.prototype=this.prototype,b.prototype=new d,b.__super__=this.prototype,a.extend(b,this,c),b.defaults=b.prototype,b},attach:function(b,c,d){var e=this;"object"!=typeof c||c instanceof a!=!1||d||(d=c,c=void 0),d=a.extend({},d);var f,g=d.namespace||e.defaults.namespace,h=a.extend({},e.defaults,e.readElementConfig(b[0],g),d),i=function(g){var i=a.extend({$source:b,$currentTarget:a(this)},e.readElementConfig(b[0],h.namespace),e.readElementConfig(this,h.namespace),d),j=f||a(this).data("featherlight-persisted")||new e(c,i);"shared"===j.persist?f=j:j.persist!==!1&&a(this).data("featherlight-persisted",j),i.$currentTarget.blur(),j.open(g)};return b.on(h.openTrigger+"."+h.namespace,h.filter,i),i},current:function(){var a=this.opened();return a[a.length-1]||null},opened:function(){var b=this;return f(),a.grep(e,function(a){return a instanceof b})},close:function(a){var b=this.current();return b?b.close(a):void 0},_onReady:function(){var b=this;b.autoBind&&(a(b.autoBind).each(function(){b.attach(a(this))}),a(document).on("click",b.autoBind,function(c){if(!c.isDefaultPrevented()){var d=b.attach(a(c.currentTarget));d(c)}}))},_callbackChain:{onKeyUp:function(b,c){return 27===c.keyCode?(this.closeOnEsc&&a.featherlight.close(c),!1):b(c)},beforeOpen:function(b,c){return this._previouslyActive=document.activeElement,this._$previouslyTabbable=a("a, input, select, textarea, iframe, button, iframe, [contentEditable=true]").not("[tabindex]").not(this.$instance.find("button")),this._$previouslyWithTabIndex=a("[tabindex]").not('[tabindex="-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(b,c){return a(c).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur(),b(c)},afterClose:function(b,c){var d=b(c),e=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(b,c){a(c).attr("tabindex",e._previousWithTabIndices[b])}),this._previouslyActive.focus(),d},onResize:function(a,b){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),a(b)},afterContent:function(a,b){var c=a(b);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(b),c}}}),a.featherlight=b,a.fn.featherlight=function(a,c){return b.attach(this,a,c),this},a(document).ready(function(){b._onReady()})}(jQuery);!function(a){"use strict";function b(c,d){if(!(this instanceof b)){var e=new b(a.extend({$source:c,$currentTarget:c.first()},d));return e.open(),e}a.featherlight.apply(this,arguments),this.chainCallbacks(h)}var c=function(a){window.console&&window.console.warn&&window.console.warn("FeatherlightGallery: "+a)};if("undefined"==typeof a)return c("Too much lightness, Featherlight needs jQuery.");if(!a.featherlight)return c("Load the featherlight plugin before the gallery plugin");var d="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,e=a.event&&a.event.special.swipeleft&&a,f=window.Hammer&&function(a){var b=new window.Hammer.Manager(a[0]);return b.add(new window.Hammer.Swipe),b},g=d&&(e||f);d&&!g&&c("No compatible swipe library detected; one must be included before featherlightGallery for swipe motions to navigate the galleries.");var h={afterClose:function(a,b){var c=this;return c.$instance.off("next."+c.namespace+" previous."+c.namespace),c._swiper&&(c._swiper.off("swipeleft",c._swipeleft).off("swiperight",c._swiperight),c._swiper=null),a(b)},beforeOpen:function(a,b){var c=this;return c.$instance.on("next."+c.namespace+" previous."+c.namespace,function(a){var b="next"===a.type?1:-1;c.navigateTo(c.currentNavigation()+b)}),g&&(c._swiper=g(c.$instance).on("swipeleft",c._swipeleft=function(){c.$instance.trigger("next")}).on("swiperight",c._swiperight=function(){c.$instance.trigger("previous")}),c.$instance.addClass(this.namespace+"-swipe-aware",g)),c.$instance.find("."+c.namespace+"-content").append(c.createNavigation("previous")).append(c.createNavigation("next")),a(b)},beforeContent:function(a,b){var c=this.currentNavigation(),d=this.slides().length;return this.$instance.toggleClass(this.namespace+"-first-slide",0===c).toggleClass(this.namespace+"-last-slide",c===d-1),a(b)},onKeyUp:function(a,b){var c={37:"previous",39:"next"}[b.keyCode];return c?(this.$instance.trigger(c),!1):a(b)}};a.featherlight.extend(b,{autoBind:"[data-featherlight-gallery]"}),a.extend(b.prototype,{previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300,slides:function(){return this.filter?this.$source.find(this.filter):this.$source},images:function(){return c("images is deprecated, please use slides instead"),this.slides()},currentNavigation:function(){return this.slides().index(this.$currentTarget)},navigateTo:function(b){var c=this,d=c.slides(),e=d.length,f=c.$instance.find("."+c.namespace+"-inner");return b=(b%e+e)%e,c.$currentTarget=d.eq(b),c.beforeContent(),a.when(c.getContent(),f.fadeTo(c.galleryFadeOut,.2)).always(function(a){c.setContent(a),c.afterContent(),a.fadeTo(c.galleryFadeIn,1)})},createNavigation:function(b){var c=this;return a('<span title="'+b+'" class="'+this.namespace+"-"+b+'"><span>'+this[b+"Icon"]+"</span></span>").click(function(){a(this).trigger(b+"."+c.namespace)})}}),a.featherlightGallery=b,a.fn.featherlightGallery=function(a){return b.attach(this,a),this},a(document).ready(function(){b._onReady()})}(jQuery);function truncateUserReviews(){if($(".review-txt").length){truncateDescrWithExpandLink(".review-txt-outer","Read More &#187;")}}(function reviewsEnabledToggle(){$("#chk-reviews-enabled").change(function(){var a=$(this).parents("form");$("input[name=disabled]",a).val($(this).get(0).checked?"0":"1");a.submit()})})();function displayVideo(){var b=".m-screenshots-display-full iframe, .featherlight-content iframe";var a=$(b);if(a.length){if(a.data("src")){a.attr("src",a.data("src"))}}}if($("form.rate-this-project").length>0){var $rate_form=$("form.rate-this-project");$rate_form.find(".star-rating").click(function(){$(this).parents("form").submit()});$rate_form.find("input.star").change(function(){$(this).parents("form").submit()})}truncateUserReviews();$(".psp-section").on("click",function(d){if(Foundation.MediaQuery.current==="small"){var c=$(this);if(c.is(".is-active")){var b=$("h3:first",c).is(d.target);var a=c.is(d.target);if(b||a){$(this).toggleClass("is-active")}}else{$(this).toggleClass("is-active")}}});if($().owlCarousel){$(".owl-carousel").owlCarousel({nav:true,margin:11,navText:["",""],responsive:{0:{items:2},490:{items:3},735:{items:4}}})}if($().featherlightGallery){$(".m-screenshots, .thumbnail-single").each(function(){$(".gallery",this).featherlightGallery({nextIcon:"",previousIcon:"",loading:'<div class="loading">loading...</div>',afterContent:function(c){var a=this.$currentTarget.attr("title");$(".featherlight-content .caption").remove();var d=this.$currentTarget.attr("data-alt");$(".featherlight-content > img").attr("alt",d);if(a){var b=$('<div class="caption"></div>').text(a);$(".featherlight-content").append(b)}displayVideo()}})});$(".btn-nearest-gallery").click(function(a){a.preventDefault();$(this).siblings(".gallery").eq(0).click();return false})}$(".thumbnail",'.m-screenshots[data-mode="inline"]').click(function(c){var a=$(".m-screenshots-display-full");a.html("loading...");var d=$(c.currentTarget);if(d.hasClass("video-screenshot")){a.html(d.data("featherlight"));displayVideo()}else{var b=new Image();if(d.attr("title")){b.setAttribute("alt",d.attr("title"))}else{b.setAttribute("alt",d.data("alt"))}b.onload=function(){var f='<img src="'+b.src+'" alt="'+b.alt+'">';var e="";if(d.attr("title")){e=$("<div/>").text(d.attr("title")).html();f+='<p class="screenshot-caption">'+e+"</p>"}a.html(f);handleOverflownCaptions(a)};b.src=d.attr("href")}return false});displayVideo();function handleOverflownCaptions(b){if(!b){b=$(".m-screenshots-display-full")}var a=$("p",b);if(a.length&&isOverflown(a.get(0))){var c=new Foundation.Tooltip(a,{tipText:a.text(),triggerClass:"",maxWidth:"20rem",clickOpen:true,templateClasses:"tooltip-billboard"})}}handleOverflownCaptions();function reflowProjectMenu(){function g(){if(Foundation.MediaQuery.current==="small"){return[]}return $("#top_nav_admin ul.dropdown > li").map(function(){if($(this).position().top!==0){return this}}).get()}var b=g();var d=$("#top_nav_admin ul.dropdown");var e=d.outerWidth(true)-d.outerWidth();if(b.length){if(!$("#top_nav_admin ul.dropdown #ddd").length){d.append("<li id='ddd'><a>\u2022\u2022\u2022</a><ul></ul></li>")}var a=$("#ddd").outerWidth(true);$("#add-tool-container").css({position:"absolute",right:a+e,top:0});var c=d.parent().width()-e-a-($("#add-tool-container").outerWidth(true)||0);d.width(c);b=g();var f=b.map(function(j,h){var k=/data-reactid=".*?"/g;return j.outerHTML.replace(/\u25BE/g,"").replace(k,"")}).join("");$("#top_nav_admin ul.dropdown #ddd ul").html(f)}else{$("#top_nav_admin ul.dropdown #ddd").remove();d.width("auto");$("#add-tool-container").css({position:"relative",right:0})}}if($("#top_nav_admin").length){var $dropdowns=$(".dropdown > li ul").parent().find("> a");var usingTouch=false;$dropdowns.on("touchstart",function(){usingTouch=true});$dropdowns.on("click",function(a){if(usingTouch){a.preventDefault()}});if(window.MutationObserver){new MutationObserver(function(){if(!$("ul.dropdown").length){var a=$("#top_nav_admin > div").get(0);new MutationObserver(reflowProjectMenu).observe(a,{childList:true})}}).observe(document.getElementById("top_nav_admin"),{childList:true})}window.addEventListener("resize",reflowProjectMenu);if(!SF.initial_breakpoints_visible||SF.initial_breakpoints_visible.medium){$(reflowProjectMenu)}}var pcfAccordion=$(".m-section-pcfs .accordion");if(pcfAccordion.length){pcfAccordion.foundation("toggle",$(".accordion-content.not-active"));$(".m-section-pcfs .accordion-toggle").click(function(b){$(b.target).toggleClass("open");var a=$(b.target).parent().next(".accordion-content");pcfAccordion.foundation("toggle",a);return false})}$(function(){if(window.fitty){var a=".v-sf h1.long-title";if($("h1.long-title a").length){a+=" a"}fitty(a,{minSize:24,maxSize:48,observeMutations:{subtree:true,childList:true,characterData:true}})}});$("[data-href]").each(function(a,b){$(b).on("click",function(){top.location=$(this).data("href")})});!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.fitty=n.exports}}(this,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(n){if(n){var r={IDLE:0,DIRTY_CONTENT:1,DIRTY_LAYOUT:2,DIRTY:3},i=[],e=null,o="requestAnimationFrame"in n?function(){n.cancelAnimationFrame(e),e=n.requestAnimationFrame(function(){return l(i.filter(function(e){return e.dirty&&e.active}))})}:function(){},t=function(t){return function(){i.forEach(function(e){return e.dirty=t}),o()}},l=function(e){e.filter(function(e){return!e.styleComputed}).forEach(function(e){e.styleComputed=s(e)}),e.filter(f).forEach(d);var t=e.filter(c);t.forEach(u),t.forEach(function(e){d(e),a(e)}),t.forEach(p)},a=function(e){return e.dirty=r.IDLE},u=function(e){e.availableWidth=e.element.parentNode.clientWidth,e.currentWidth=e.element.scrollWidth,e.previousFontSize=e.currentFontSize,e.currentFontSize=Math.min(Math.max(e.minSize,e.availableWidth/e.currentWidth*e.previousFontSize),e.maxSize),e.whiteSpace=e.multiLine&&e.currentFontSize===e.minSize?"normal":"nowrap"},c=function(e){return e.dirty!==r.DIRTY_LAYOUT||e.dirty===r.DIRTY_LAYOUT&&e.element.parentNode.clientWidth!==e.availableWidth},s=function(e){var t=n.getComputedStyle(e.element,null);e.currentFontSize=parseFloat(t.getPropertyValue("font-size")),e.display=t.getPropertyValue("display"),e.whiteSpace=t.getPropertyValue("white-space")},f=function(e){var t=!1;return!e.preStyleTestCompleted&&(/inline-/.test(e.display)||(t=!0,e.display="inline-block"),"nowrap"!==e.whiteSpace&&(t=!0,e.whiteSpace="nowrap"),e.preStyleTestCompleted=!0,t)},d=function(e){e.element.style.whiteSpace=e.whiteSpace,e.element.style.display=e.display,e.element.style.fontSize=e.currentFontSize+"px"},p=function(e){e.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:e.previousFontSize,newValue:e.currentFontSize,scaleFactor:e.currentFontSize/e.previousFontSize}}))},y=function(e,t){return function(){e.dirty=t,e.active&&o()}},m=function(e){e.originalStyle={whiteSpace:e.element.style.whiteSpace,display:e.element.style.display,fontSize:e.element.style.fontSize},w(e),e.newbie=!0,e.dirty=!0,i.push(e)},v=function(t){return function(){i=i.filter(function(e){return e.element!==t.element}),t.observeMutations&&t.observer.disconnect(),t.element.style.whiteSpace=t.originalStyle.whiteSpace,t.element.style.display=t.originalStyle.display,t.element.style.fontSize=t.originalStyle.fontSize}},S=function(e){return function(){e.active||(e.active=!0,o())}},h=function(e){return function(){return e.active=!1}},w=function(e){e.observeMutations&&(e.observer=new MutationObserver(y(e,r.DIRTY_CONTENT)),e.observer.observe(e.element,e.observeMutations))},b={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in n&&{subtree:!0,childList:!0,characterData:!0}},z=null,T=function(){n.clearTimeout(z),z=n.setTimeout(t(r.DIRTY_LAYOUT),E.observeWindowDelay)},F=["resize","orientationchange"];return Object.defineProperty(E,"observeWindow",{set:function(e){var t=(e?"add":"remove")+"EventListener";F.forEach(function(e){n[t](e,T)})}}),E.observeWindow=!0,E.observeWindowDelay=100,E.fitAll=t(r.DIRTY),E}function D(e,t){var n=g({},b,t),i=e.map(function(e){var t=g({},n,{element:e,active:!0});return m(t),{element:e,fit:y(t,r.DIRTY),unfreeze:S(t),freeze:h(t),unsubscribe:v(t)}});return o(),i}function E(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e?D((t=document.querySelectorAll(e),[].slice.call(t)),n):D([e],n)[0]}}("undefined"==typeof window?null:window),e.exports=t.default});